/**
 * flashgallery
 *
 * @version 0.7.2
 * @copyright 2011-2012 Flash-Gallery.com
 */

if(!JSON){var JSON;JSON||(JSON={});(function(){function a(a){return 10>a?"0"+a:a}function c(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=h[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function e(a,l){var b,x,L,A,h=q,D,y=l[a];y&&("object"===typeof y&&"function"===typeof y.toJSON)&&(y=y.toJSON(a));"function"===typeof w&&(y=w.call(l,a,y));switch(typeof y){case "string":return c(y);case "number":return isFinite(y)?String(y):
"null";case "boolean":case "null":return String(y);case "object":if(!y)return"null";q+=u;D=[];if("[object Array]"===Object.prototype.toString.apply(y)){A=y.length;for(b=0;b<A;b+=1)D[b]=e(b,y)||"null";L=0===D.length?"[]":q?"[\n"+q+D.join(",\n"+q)+"\n"+h+"]":"["+D.join(",")+"]";q=h;return L}if(w&&"object"===typeof w){A=w.length;for(b=0;b<A;b+=1)"string"===typeof w[b]&&(x=w[b],(L=e(x,y))&&D.push(c(x)+(q?": ":":")+L))}else for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&(L=e(x,y))&&D.push(c(x)+
(q?": ":":")+L);L=0===D.length?"{}":q?"{\n"+q+D.join(",\n"+q)+"\n"+h+"}":"{"+D.join(",")+"}";q=h;return L}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,q,u,h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},w;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,c,b){var l;u=q="";if("number"===typeof b)for(l=0;l<b;l+=1)u+=" ";else"string"===typeof b&&(u=b);if((w=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return e("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,c){function l(a,b){var e,q,x=a[b];if(x&&"object"===typeof x)for(e in x)Object.prototype.hasOwnProperty.call(x,e)&&(q=l(x,e),void 0!==q?x[e]=q:delete x[e]);return c.call(a,b,x)}var e,a=String(a);b.lastIndex=0;b.test(a)&&(a=a.replace(b,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?l({"":e},""):e;throw new SyntaxError("JSON.parse");})})()}
jQuery.ui||function(a,c){function e(c,e){var u=c.nodeName.toLowerCase();if("area"===u){var u=c.parentNode,h=u.name;if(!c.href||!h||"map"!==u.nodeName.toLowerCase())return!1;u=a("img[usemap=#"+h+"]")[0];return!!u&&b(u)}return(/input|select|textarea|button|object/.test(u)?!c.disabled:"a"==u?c.href||e:e)&&b(c)}function b(c){return!a(c).parents().andSelf().filter(function(){return"hidden"===a.curCSS(this,"visibility")||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:"1.8.24",
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(c,b){return"number"===typeof c?this.each(function(){var e=
this;setTimeout(function(){a(e).focus();b&&b.call(e)},c)}):this._focus.apply(this,arguments)},scrollParent:function(){var c;c=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,
"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?a(document):c},zIndex:function(b){if(b!==c)return this.css("zIndex",b);if(this.length)for(var b=a(this[0]),e;b.length&&b[0]!==document;){e=b.css("position");if("absolute"===e||"relative"===e||"fixed"===e)if(e=parseInt(b.css("zIndex"),10),!isNaN(e)&&0!==e)return e;b=b.parent()}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":
"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,e){function u(c,b,e,l){a.each(h,function(){b-=parseFloat(a.curCSS(c,"padding"+this,!0))||0;e&&(b-=parseFloat(a.curCSS(c,"border"+this+"Width",!0))||0);l&&(b-=parseFloat(a.curCSS(c,"margin"+this,!0))||0)});return b}var h="Width"===e?["Left","Right"]:["Top","Bottom"],w=e.toLowerCase(),B={innerWidth:a.fn.innerWidth,
innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+e]=function(b){return b===c?B["inner"+e].call(this):this.each(function(){a(this).css(w,u(this,b)+"px")})};a.fn["outer"+e]=function(b,c){return"number"!==typeof b?B["outer"+e].call(this,b):this.each(function(){a(this).css(w,u(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,e){return!!a.data(b,
e[3])},focusable:function(b){return e(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),u=isNaN(c);return(u||0<=c)&&e(b,!u)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight;a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=100===c.offsetHeight;a.support.selectstart="onselectstart"in c;b.removeChild(c).style.display="none"}),a.curCSS||(a.curCSS=a.css),a.extend(a.ui,{plugin:{add:function(b,
c,e){var b=a.ui[b].prototype,h;for(h in e)b.plugins[h]=b.plugins[h]||[],b.plugins[h].push([c,e[h]])},call:function(a,b,c){if((b=a.plugins[b])&&a.element[0].parentNode)for(var e=0;e<b.length;e++)a.options[b[e][0]]&&b[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var e=c&&"left"===c?"scrollLeft":"scrollTop",h=!1;if(0<b[e])return!0;b[e]=
1;h=0<b[e];b[e]=0;return h},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,e,h,w,B){return a.ui.isOverAxis(b,e,w)&&a.ui.isOverAxis(c,h,B)}}))}(jQuery);
jQuery.widget||function(a,c){if(a.cleanData){var e=a.cleanData;a.cleanData=function(b){for(var c=0,u;null!=(u=b[c]);c++)try{a(u).triggerHandler("remove")}catch(h){}e(b)}}else{var b=a.fn.remove;a.fn.remove=function(c,e){return this.each(function(){e||(!c||a.filter(c,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}});return b.call(a(this),c,e)})}}a.widget=function(b,c,e){var h=b.split(".")[0],w,b=b.split(".")[1];w=h+"-"+b;e||(e=c,c=a.Widget);a.expr[":"][w]=
function(c){return!!a.data(c,b)};a[h]=a[h]||{};a[h][b]=function(a,b){arguments.length&&this._createWidget(a,b)};c=new c;c.options=a.extend(!0,{},c.options);a[h][b].prototype=a.extend(!0,c,{namespace:h,widgetName:b,widgetEventPrefix:a[h][b].prototype.widgetEventPrefix||b,widgetBaseClass:w},e);a.widget.bridge(b,a[h][b])};a.widget.bridge=function(b,e){a.fn[b]=function(u){var h="string"===typeof u,w=Array.prototype.slice.call(arguments,1),B=this,u=!h&&w.length?a.extend.apply(null,[!0,u].concat(w)):u;
if(h&&"_"===u.charAt(0))return B;h?this.each(function(){var e=a.data(this,b),q=e&&a.isFunction(e[u])?e[u].apply(e,w):e;if(q!==e&&q!==c)return B=q,!1}):this.each(function(){var c=a.data(this,b);c?c.option(u||{})._init():a.data(this,b,new e(u,this))});return B}};a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this);this.element=a(c);this.options=a.extend(!0,
{},this.options,this._getCreateOptions(),b);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+
"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(b,e){var u=b;if(0===arguments.length)return a.extend({},this.options);if("string"===typeof b){if(e===c)return this.options[b];u={};u[b]=e}this._setOptions(u);return this},_setOptions:function(b){var c=this;a.each(b,function(a,b){c._setOption(a,b)});return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",
b);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,e){var h,w=this.options[b],e=e||{},c=a.Event(c);c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();c.target=this.element[0];if(b=c.originalEvent)for(h in b)h in c||(c[h]=b[h]);this.element.trigger(c,e);return!(a.isFunction(w)&&!1===w.call(this.element[0],c,e)||c.isDefaultPrevented())}}}(jQuery);
jQuery.ui.mouse||function(a){var c=!1;a(document).mouseup(function(){c=!1});a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(a){return c._mouseDown(a)}).bind("click."+this.widgetName,function(b){if(!0===a.data(b.target,c.widgetName+".preventClickEvent"))return a.removeData(b.target,c.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName);this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!c){this._mouseStarted&&this._mouseUp(e);this._mouseDownEvent=e;var b=this,l=1==e.which,q="string"==typeof this.options.cancel&&e.target.nodeName?a(e.target).closest(this.options.cancel).length:!1;if(!l||q||!this._mouseCapture(e))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=
setTimeout(function(){b.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted))return e.preventDefault(),!0;!0===a.data(e.target,this.widgetName+".preventClickEvent")&&a.removeData(e.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return b._mouseMove(a)};this._mouseUpDelegate=function(a){return b._mouseUp(a)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+
this.widgetName,this._mouseUpDelegate);e.preventDefault();return c=!0}},_mouseMove:function(c){if(a.browser.msie&&!(9<=document.documentMode)&&!c.button)return this._mouseUp(c);if(this._mouseStarted)return this._mouseDrag(c),c.preventDefault();this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c))?this._mouseDrag(c):this._mouseUp(c));return!this._mouseStarted},_mouseUp:function(c){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+
this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,c.target==this._mouseDownEvent.target&&a.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery);
jQuery.ui.draggable||function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&
(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(c){var e=this.options;if(this.helper||e.disabled||a(c.target).is(".ui-resizable-handle"))return!1;
this.handle=this._getHandle(c);if(!this.handle)return!1;e.iframeFix&&a(!0===e.iframeFix?"iframe":e.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")});return!0},_mouseStart:function(c){var e=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();
a.ui.ddmanager&&(a.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);
this.originalPageX=c.pageX;this.originalPageY=c.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);e.containment&&this._setContainment();if(!1===this._trigger("start",c))return this._clear(),!1;this._cacheHelperProportions();a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c);this._mouseDrag(c,!0);a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,c);return!0},_mouseDrag:function(c,e){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");
if(!e){var b=this._uiHash();if(!1===this._trigger("drag",c,b))return this._mouseUp({}),!1;this.position=b.position}if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,c);return!1},_mouseStop:function(c){var e=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(e=a.ui.ddmanager.drop(this,c));this.dropped&&(e=this.dropped,this.dropped=
!1);for(var b=this.element[0],l=!1;b&&(b=b.parentNode);)b==document&&(l=!0);if(!l&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!e||"valid"==this.options.revert&&e||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,e)){var q=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==q._trigger("stop",c)&&q._clear()})}else!1!==this._trigger("stop",c)&&this._clear();return!1},
_mouseUp:function(c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,c);return a.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(c){var e=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;a(this.options.handle,this.element).find("*").andSelf().each(function(){this==c.target&&(e=!0)});
return e},_createHelper:function(c){var e=this.options,c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[c])):"clone"==e.helper?this.element.clone().removeAttr("id"):this.element;c.parents("body").length||c.appendTo("parent"==e.appendTo?this.element[0].parentNode:e.appendTo);c[0]!=this.element[0]&&!/(fixed|absolute)/.test(c.css("position"))&&c.css("position","absolute");return c},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" "));a.isArray(c)&&(c={left:+c[0],top:+c[1]||
0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();"absolute"==this.cssPosition&&(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],
this.offsetParent[0]))&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.browser.msie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),
height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;"parent"==c.containment&&(c.containment=this.helper[0].parentNode);if("document"==c.containment||"window"==c.containment)this.containment=["document"==c.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==c.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==c.containment?0:a(window).scrollLeft())+a("document"==c.containment?document:
window).width()-this.helperProportions.width-this.margins.left,("document"==c.containment?0:a(window).scrollTop())+(a("document"==c.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(c.containment)&&c.containment.constructor!=Array){var c=a(c.containment),e=c[0];if(e){c.offset();var b="hidden"!=a(e).css("overflow");this.containment=[(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),
10)||0),(parseInt(a(e).css("borderTopWidth"),10)||0)+(parseInt(a(e).css("paddingTop"),10)||0),(b?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];
this.relative_container=c}}else c.containment.constructor==Array&&(this.containment=c.containment)},_convertPositionTo:function(c,e){e||(e=this.position);var b="absolute"==c?1:-1,l="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,q=/(html|body)/i.test(l[0].tagName);return{top:e.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&526>a.browser.version&&"fixed"==this.cssPosition?
0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():q?0:l.scrollTop())*b),left:e.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&526>a.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():q?0:l.scrollLeft())*b)}},_generatePosition:function(c){var e=this.options,b="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,
l=/(html|body)/i.test(b[0].tagName),q=c.pageX,u=c.pageY;if(this.originalPosition){var h;this.containment&&(this.relative_container?(h=this.relative_container.offset(),h=[this.containment[0]+h.left,this.containment[1]+h.top,this.containment[2]+h.left,this.containment[3]+h.top]):h=this.containment,c.pageX-this.offset.click.left<h[0]&&(q=h[0]+this.offset.click.left),c.pageY-this.offset.click.top<h[1]&&(u=h[1]+this.offset.click.top),c.pageX-this.offset.click.left>h[2]&&(q=h[2]+this.offset.click.left),
c.pageY-this.offset.click.top>h[3]&&(u=h[3]+this.offset.click.top));e.grid&&(u=e.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY,u=h?!(u-this.offset.click.top<h[1]||u-this.offset.click.top>h[3])?u:!(u-this.offset.click.top<h[1])?u-e.grid[1]:u+e.grid[1]:u,q=e.grid[0]?this.originalPageX+Math.round((q-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX,q=h?!(q-this.offset.click.left<h[0]||q-this.offset.click.left>h[2])?q:!(q-this.offset.click.left<
h[0])?q-e.grid[0]:q+e.grid[0]:q)}return{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&526>a.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():l?0:b.scrollTop()),left:q-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&526>a.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():l?0:b.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");
this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(c,e,b){b=b||this._uiHash();a.ui.plugin.call(this,c,[e,b]);"drag"==c&&(this.positionAbs=this._convertPositionTo("absolute"));return a.Widget.prototype._trigger.call(this,c,e,b)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.24"});
a.ui.plugin.add("draggable","connectToSortable",{start:function(c,e){var b=a(this).data("draggable"),l=b.options,q=a.extend({},e,{item:b.element});b.sortables=[];a(l.connectToSortable).each(function(){var e=a.data(this,"sortable");e&&!e.options.disabled&&(b.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",c,q))})},stop:function(c,e){var b=a(this).data("draggable"),l=a.extend({},e,{item:b.element});a.each(b.sortables,function(){this.instance.isOver?
(this.instance.isOver=0,b.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(c),this.instance.options.helper=this.instance.options._helper,"original"==b.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",c,l))})},drag:function(c,e){var b=a(this).data("draggable"),l=this;a.each(b.sortables,function(){this.instance.positionAbs=
b.positionAbs;this.instance.helperProportions=b.helperProportions;this.instance.offset.click=b.offset.click;this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(l).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return e.helper[0]},c.target=this.instance.currentItem[0],this.instance._mouseCapture(c,
!0),this.instance._mouseStart(c,!0,!0),this.instance.offset.click.top=b.offset.click.top,this.instance.offset.click.left=b.offset.click.left,this.instance.offset.parent.left-=b.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=b.offset.parent.top-this.instance.offset.parent.top,b._trigger("toSortable",c),b.dropped=this.instance.element,b.currentItem=b.element,this.instance.fromOutside=b),this.instance.currentItem&&this.instance._mouseDrag(c)):this.instance.isOver&&
(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",c,this.instance._uiHash(this.instance)),this.instance._mouseStop(c,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),b._trigger("fromSortable",c),b.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),e=a(this).data("draggable").options;
c.css("cursor")&&(e._cursor=c.css("cursor"));c.css("cursor",e.cursor)},stop:function(){var c=a(this).data("draggable").options;c._cursor&&a("body").css("cursor",c._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(c,e){var b=a(e.helper),l=a(this).data("draggable").options;b.css("opacity")&&(l._opacity=b.css("opacity"));b.css("opacity",l.opacity)},stop:function(c,e){var b=a(this).data("draggable").options;b._opacity&&a(e.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable",
"scroll",{start:function(){var c=a(this).data("draggable");c.scrollParent[0]!=document&&"HTML"!=c.scrollParent[0].tagName&&(c.overflowOffset=c.scrollParent.offset())},drag:function(c){var e=a(this).data("draggable"),b=e.options,l=!1;if(e.scrollParent[0]!=document&&"HTML"!=e.scrollParent[0].tagName){if(!b.axis||"x"!=b.axis)e.overflowOffset.top+e.scrollParent[0].offsetHeight-c.pageY<b.scrollSensitivity?e.scrollParent[0].scrollTop=l=e.scrollParent[0].scrollTop+b.scrollSpeed:c.pageY-e.overflowOffset.top<
b.scrollSensitivity&&(e.scrollParent[0].scrollTop=l=e.scrollParent[0].scrollTop-b.scrollSpeed);if(!b.axis||"y"!=b.axis)e.overflowOffset.left+e.scrollParent[0].offsetWidth-c.pageX<b.scrollSensitivity?e.scrollParent[0].scrollLeft=l=e.scrollParent[0].scrollLeft+b.scrollSpeed:c.pageX-e.overflowOffset.left<b.scrollSensitivity&&(e.scrollParent[0].scrollLeft=l=e.scrollParent[0].scrollLeft-b.scrollSpeed)}else{if(!b.axis||"x"!=b.axis)c.pageY-a(document).scrollTop()<b.scrollSensitivity?l=a(document).scrollTop(a(document).scrollTop()-
b.scrollSpeed):a(window).height()-(c.pageY-a(document).scrollTop())<b.scrollSensitivity&&(l=a(document).scrollTop(a(document).scrollTop()+b.scrollSpeed));if(!b.axis||"y"!=b.axis)c.pageX-a(document).scrollLeft()<b.scrollSensitivity?l=a(document).scrollLeft(a(document).scrollLeft()-b.scrollSpeed):a(window).width()-(c.pageX-a(document).scrollLeft())<b.scrollSensitivity&&(l=a(document).scrollLeft(a(document).scrollLeft()+b.scrollSpeed))}!1!==l&&(a.ui.ddmanager&&!b.dropBehaviour)&&a.ui.ddmanager.prepareOffsets(e,
c)}});a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("draggable"),e=c.options;c.snapElements=[];a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var b=a(this),e=b.offset();this!=c.element[0]&&c.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:e.top,left:e.left})})},drag:function(c,e){for(var b=a(this).data("draggable"),l=b.options,q=l.snapTolerance,u=e.offset.left,h=u+b.helperProportions.width,w=e.offset.top,
B=w+b.helperProportions.height,z=b.snapElements.length-1;0<=z;z--){var G=b.snapElements[z].left,x=G+b.snapElements[z].width,L=b.snapElements[z].top,A=L+b.snapElements[z].height;if(G-q<u&&u<x+q&&L-q<w&&w<A+q||G-q<u&&u<x+q&&L-q<B&&B<A+q||G-q<h&&h<x+q&&L-q<w&&w<A+q||G-q<h&&h<x+q&&L-q<B&&B<A+q){if("inner"!=l.snapMode){var N=Math.abs(L-B)<=q,D=Math.abs(A-w)<=q,y=Math.abs(G-h)<=q,U=Math.abs(x-u)<=q;N&&(e.position.top=b._convertPositionTo("relative",{top:L-b.helperProportions.height,left:0}).top-b.margins.top);
D&&(e.position.top=b._convertPositionTo("relative",{top:A,left:0}).top-b.margins.top);y&&(e.position.left=b._convertPositionTo("relative",{top:0,left:G-b.helperProportions.width}).left-b.margins.left);U&&(e.position.left=b._convertPositionTo("relative",{top:0,left:x}).left-b.margins.left)}var Y=N||D||y||U;"outer"!=l.snapMode&&(N=Math.abs(L-w)<=q,D=Math.abs(A-B)<=q,y=Math.abs(G-u)<=q,U=Math.abs(x-h)<=q,N&&(e.position.top=b._convertPositionTo("relative",{top:L,left:0}).top-b.margins.top),D&&(e.position.top=
b._convertPositionTo("relative",{top:A-b.helperProportions.height,left:0}).top-b.margins.top),y&&(e.position.left=b._convertPositionTo("relative",{top:0,left:G}).left-b.margins.left),U&&(e.position.left=b._convertPositionTo("relative",{top:0,left:x-b.helperProportions.width}).left-b.margins.left));!b.snapElements[z].snapping&&(N||D||y||U||Y)&&b.options.snap.snap&&b.options.snap.snap.call(b.element,c,a.extend(b._uiHash(),{snapItem:b.snapElements[z].item}));b.snapElements[z].snapping=N||D||y||U||Y}else b.snapElements[z].snapping&&
b.options.snap.release&&b.options.snap.release.call(b.element,c,a.extend(b._uiHash(),{snapItem:b.snapElements[z].item})),b.snapElements[z].snapping=!1}}});a.ui.plugin.add("draggable","stack",{start:function(){var c=a(this).data("draggable").options,c=a.makeArray(a(c.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(c.length){var e=parseInt(c[0].style.zIndex)||0;a(c).each(function(a){this.style.zIndex=e+a});this[0].style.zIndex=e+c.length}}});
a.ui.plugin.add("draggable","zIndex",{start:function(c,e){var b=a(e.helper),l=a(this).data("draggable").options;b.css("zIndex")&&(l._zIndex=b.css("zIndex"));b.css("zIndex",l.zIndex)},stop:function(c,e){var b=a(this).data("draggable").options;b._zIndex&&a(e.helper).css("zIndex",b._zIndex)}})}(jQuery);
jQuery.effects||jQuery.effects||function(a,c){function e(b){var c;return b&&b.constructor==Array&&3==b.length?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[2.55*parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3])]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],
16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(b)?w.transparent:w[a.trim(b).toLowerCase()]}function b(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,e;if(a&&a.length&&a[0]&&a[a[0]])for(var h=a.length;h--;)c=a[h],"string"==typeof a[c]&&(e=c.replace(/\-(\w)/g,function(a,c){return c.toUpperCase()}),b[e]=
a[c]);else for(c in a)"string"===typeof a[c]&&(b[c]=a[c]);return b}function l(c){var b,e;for(b in c)e=c[b],(null==e||a.isFunction(e)||b in z||/scrollbar/.test(b)||!/color/i.test(b)&&isNaN(parseFloat(e)))&&delete c[b];return c}function q(a,c){var b={_:0},e;for(e in c)a[e]!=c[e]&&(b[e]=c[e]);return b}function u(c,b,e,h){"object"==typeof c&&(h=b,e=null,b=c,c=b.effect);a.isFunction(b)&&(h=b,e=null,b={});if("number"==typeof b||a.fx.speeds[b])h=e,e=b,b={};a.isFunction(e)&&(h=e,e=null);b=b||{};e=e||b.duration;
e=a.fx.off?0:"number"==typeof e?e:e in a.fx.speeds?a.fx.speeds[e]:a.fx.speeds._default;h=h||b.complete;return[c,b,e,h]}function h(b){return!b||("number"===typeof b||a.fx.speeds[b])||"string"===typeof b&&!a.effects[b]?!0:!1}a.effects={};a.each("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor borderColor color outlineColor".split(" "),function(b,c){a.fx.step[c]=function(b){if(!b.colorInit){var x;x=b.elem;var h=c,q;do{q=(a.curCSS||a.css)(x,h);if(""!=q&&"transparent"!=
q||a.nodeName(x,"body"))break;h="backgroundColor"}while(x=x.parentNode);x=e(q);b.start=x;b.end=e(b.end);b.colorInit=!0}b.elem.style[c]="rgb("+Math.max(Math.min(parseInt(b.pos*(b.end[0]-b.start[0])+b.start[0],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[1]-b.start[1])+b.start[1],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[2]-b.start[2])+b.start[2],10),255),0)+")"}});var w={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],
cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,
255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},B=["add","remove","toggle"],z={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(c,e,h,u){a.isFunction(h)&&(u=h,h=null);return this.queue(function(){var D=
a(this),y=D.attr("style")||" ",z=l(b.call(this)),w,G=D.attr("class")||"";a.each(B,function(a,b){if(c[b])D[b+"Class"](c[b])});w=l(b.call(this));D.attr("class",G);D.animate(q(z,w),{queue:!1,duration:e,easing:h,complete:function(){a.each(B,function(a,b){if(c[b])D[b+"Class"](c[b])});"object"==typeof D.attr("style")?(D.attr("style").cssText="",D.attr("style").cssText=y):D.attr("style",y);u&&u.apply(this,arguments);a.dequeue(this)}})})};a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,e,h){return c?
a.effects.animateClass.apply(this,[{add:b},c,e,h]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,e,h){return c?a.effects.animateClass.apply(this,[{remove:b},c,e,h]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(b,e,h,q,u){return"boolean"==typeof e||e===c?h?a.effects.animateClass.apply(this,[e?{add:b}:{remove:b},h,q,u]):this._toggleClass(b,e):a.effects.animateClass.apply(this,[{toggle:b},e,h,q])},switchClass:function(b,c,e,h,q){return a.effects.animateClass.apply(this,
[{add:c,remove:b},e,h,q])}});a.extend(a.effects,{version:"1.8.24",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){"toggle"==b&&(b=a.is(":hidden")?"show":"hide");return b},getBaseline:function(a,b){var c,e;switch(a[0]){case "top":c=0;break;case "middle":c=0.5;break;case "bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case "left":e=
0;break;case "center":e=0.5;break;case "right":e=1;break;default:e=a[1]/b.width}return{x:e,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},e=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),h=document.activeElement;try{h.id}catch(q){h=document.body}b.wrap(e);(b[0]===h||a.contains(b[0],h))&&a(h).focus();
e=b.parent();"static"==b.css("position")?(e.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,e){c[e]=b.css(e);isNaN(parseInt(c[e],10))&&(c[e]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));return e.css(c).show()},removeWrapper:function(b){var c,e=document.activeElement;return b.parent().is(".ui-effects-wrapper")?(c=b.parent().replaceWith(b),(b[0]===
e||a.contains(b[0],e))&&a(e).focus(),c):b},setTransition:function(b,c,e,h){h=h||{};a.each(c,function(a,c){var q=b.cssUnit(c);0<q[0]&&(h[c]=q[0]*e+q[1])});return h}});a.fn.extend({effect:function(b,c,e,h){var q=u.apply(this,arguments),l={options:q[1],duration:q[2],callback:q[3]},q=l.options.mode,B=a.effects[b];return a.fx.off||!B?q?this[q](l.duration,l.callback):this.each(function(){l.callback&&l.callback.call(this)}):B.call(this,l)},_show:a.fn.show,show:function(a){if(h(a))return this._show.apply(this,
arguments);var b=u.apply(this,arguments);b[1].mode="show";return this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(h(a))return this._hide.apply(this,arguments);var b=u.apply(this,arguments);b[1].mode="hide";return this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(h(b)||"boolean"===typeof b||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=u.apply(this,arguments);c[1].mode="toggle";return this.effect.apply(this,c)},cssUnit:function(b){var c=this.css(b),
e=[];a.each(["em","px","%","pt"],function(a,b){0<c.indexOf(b)&&(e=[parseFloat(c),b])});return e}});var G={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,b){G[b]=function(b){return Math.pow(b,a+2)}});a.extend(G,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,
--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}});a.each(G,function(b,c){a.easing["easeIn"+b]=c;a.easing["easeOut"+b]=function(a){return 1-c(1-a)};a.easing["easeInOut"+b]=function(a){return 0.5>a?c(2*a)/2:c(-2*a+2)/-2+1}})}(jQuery);var altgallery,altbox;
(function(a,c){function e(k,a){return Math.floor(Math.random()*(a-k+1))+k}function b(k){var a=[],d,b;for(d=0;d<k.length;d++)for(b=0;b<k[d].items.length;b++)a.push(k[d].items[b]);return a}function l(){return navigator.userAgent.match(/(iPhone|iPod|Android 2)/i)?!0:!1}function q(k){return"object"==typeof k&&k.length!==c}function u(k){a(k).css({display:"block",position:"static",cssFloat:"none",clear:"none",left:"auto",right:"auto",top:"auto",bottom:"auto",width:"auto",height:"auto",minWidth:"none",minHeight:"none",
maxWidth:"none",maxHeight:"none",overflow:"visible",margin:0,padding:0,border:"none",background:"none",color:"#000000",fontFamily:"serif",fontSize:"16px",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:"normal",lineHeight:"normal",opacity:1,outline:"none",textAlign:"left",textIndent:0,textShadow:"none",visibility:"visible",whiteSpace:"normal",cursor:"inherit"})}function h(k,a){"object"==typeof k&&(a=k.target,k=k.link);a||(a="_blank");switch(a){case "_blank":window.open(k);
break;case "_parent":parent.location.href=k;break;case "_self":location.href=k;break;case "_top":top.location.href=k;break;default:top.frames[a].location.href=k}}function w(){var k=document.getElementsByTagName("script");return k[k.length-1].src||location.href}function B(k){return'url("'+k+'")'}function z(k){if("number"==typeof k)return"#"+sprintf("%06x",k);if("string"==typeof k){var a;return(a=k.match(/[0-9a-f]{3,6}$/i))?3==a[0].length?"#"+a[0]+a[0]+a[1]+a[1]+a[2]+a[2]:"#"+a[0]:(a=k.match(/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i))?
"#"+sprintf("%02x",a[1])+sprintf("%02x",a[2])+sprintf("%02x",a[3]):k}}function G(a,f){var a=z(a),d=a.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i);if(d){for(var b=[],e=1;3>=e;e++)b.push(parseInt(d[e],16));return f!==c?"rgba("+b[0]+", "+b[1]+", "+b[2]+", "+f+")":"rgb("+b[0]+", "+b[1]+", "+b[2]+")"}return"transparent"}function x(a){for(var f in a)"object"==typeof a[f]?a[f]=x(a[f]):"true"==a[f]?a[f]=!0:"false"==a[f]?a[f]=!1:a[f]==parseInt(a[f])&&(a[f]=parseInt(a[f]));return a}function L(a){var f=
"",d,b=a.length;for(d=0;d<b;d++)f+=a.charCodeAt(d).toString(16);return f}function A(k,f){function d(a,k,d){for(var f in a)f.match("-")?a[k+f]=a[f]:a[d+f.charAt(0).toUpperCase()+f.slice(1)]=a[f]}a.browser.mozilla?d(f,"-moz-","Moz"):a.browser.webkit?d(f,"-webkit-","webkit"):a.browser.opera?d(f,"-o-","O"):a.browser.msie&&d(f,"-ms-","ms");a(k).css(f)}function N(k,f){if(f===c)return f={},a(k).data("transform")||{};a(k).each(function(){var k=[],b;for(b in f)k.push(b+"("+f[b]+")");k=k.join(" ");a(this).data("transform",
f).css({"-moz-transform":k,"-webkit-transform":k,"-khtml-transform":k,"-o-transform":k,"-ms-transform":k,transform:k})});return a(k)}function D(){if(ea===c){var k=location.hostname.toString().replace(/^www\./i,"");ea=!location.hostname||-1!=a.inArray(L(k),pa)}return ea}function y(a,f,d){d===c&&"number"==typeof f&&(d=f,f=c);d=d||10;if(a&&P[a]===c){var b=new Image;P[a]=b;P[a].loaded=!1;P[a].callbacks=[];"function"==typeof f&&P[a].callbacks.push(f);setTimeout(function(){b.onload=function(){P[a].loaded=
!0;for(var d=0;d<P[a].callbacks.length;d++)P[a].callbacks[d](P[a])};b.src=a},d)}else P[a].loaded?"function"==typeof f&&f(P[a]):"function"==typeof f&&P[a].callbacks.push(f)}function U(k,f,d,b){d===c&&"number"==typeof f&&(d=f,f=c);d=d||10;if("string"==typeof k)return y(k,f,d);if(q(k)){var b=b||[],e=k.slice();setTimeout(function(){var k=e.shift(),k="string"==typeof k?k:k.source||k.src||a(k).attr("src");y(k,function(a){e.length?(b.push(a),U(e,f,d,b)):"function"==typeof f&&f(b)})},d)}}function Y(k,f){f=
f||{};a(k).each(function(){var k=!1,b=!1;a(this).mousedown(function(){k=!0;return!1}).mousemove(function(a){k&&(b?"function"==typeof f.touchmove&&f.touchmove(a):(b=!0,"function"==typeof f.touchstart&&f.touchstart(a)));return!1}).mouseup(function(a){k=!1;b&&(b=!1,"function"==typeof f.touchend&&f.touchend(a));return!1}).mouseleave(function(a){k=!1;b&&(b=!1,"function"==typeof f.touchcancel&&f.touchcancel(a))})})}function R(k){function f(a){p||(p=!0,n=a.changedTouches[0],r=window.setTimeout(function(){p=
!1;var a=n,k=document.createEvent("MouseEvent");k.initMouseEvent("mouseup",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(k);k=document.createEvent("MouseEvent");k.initMouseEvent("mousedown",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,2,null);a.target.dispatchEvent(k);k=document.createEvent("MouseEvent");k.initMouseEvent("contextmenu",!0,!0,window,1,a.screenX+50,a.screenY+5,a.clientX+50,a.clientY+5,!1,!1,!1,!1,2,null);a.target.dispatchEvent(k);
m=!0;n=null},800))}function d(){p&&(window.clearTimeout(r),p=!1,n=null)}function b(k){var E="";if(!(1<k.touches.length)){switch(k.type){case "touchstart":if(a(k.changedTouches[0].target).is("select"))return;var E=k.changedTouches[0],p="mouseover",n=document.createEvent("MouseEvent");n.initMouseEvent(p,!0,!0,window,1,E.screenX,E.screenY,E.clientX,E.clientY,!1,!1,!1,!1,0,null);E.target.dispatchEvent(n);p="mousedown";n=document.createEvent("MouseEvent");n.initMouseEvent(p,!0,!0,window,1,E.screenX,E.screenY,
E.clientX,E.clientY,!1,!1,!1,!1,0,null);E.target.dispatchEvent(n);e?(window.clearTimeout(g),E.target==c?(c=null,e=!1,p="click",n=document.createEvent("MouseEvent"),n.initMouseEvent(p,!0,!0,window,1,E.screenX,E.screenY,E.clientX,E.clientY,!1,!1,!1,!1,0,null),E.target.dispatchEvent(n),p="dblclick",n=document.createEvent("MouseEvent"),n.initMouseEvent(p,!0,!0,window,1,E.screenX,E.screenY,E.clientX,E.clientY,!1,!1,!1,!1,0,null),E.target.dispatchEvent(n)):(c=E.target,e=!0,g=window.setTimeout(function(){e=
!1},600),f(k))):(c=E.target,e=!0,g=window.setTimeout(function(){e=!1},600),f(k));k.preventDefault();return!1;case "touchmove":d();E="mousemove";k.preventDefault();break;case "touchend":if(m)return m=!1,k.preventDefault(),!1;d();E="mouseup";break;default:return}k=k.changedTouches[0];p=document.createEvent("MouseEvent");p.initMouseEvent(E,!0,!0,window,1,k.screenX,k.screenY,k.clientX,k.clientY,!1,!1,!1,!1,0,null);k.target.dispatchEvent(p);"mouseup"==E&&(e&&k.target==c)&&(p=document.createEvent("MouseEvent"),
p.initMouseEvent("click",!0,!0,window,1,k.screenX,k.screenY,k.clientX,k.clientY,!1,!1,!1,!1,0,null),k.target.dispatchEvent(p))}}var c=null,e=!1,g=null,p=!1,n=null,r=null,m=!1;a.support.touch&&a(k).each(function(){this.addEventListener("touchstart",b,!1);this.addEventListener("touchmove",b,!1);this.addEventListener("touchend",b,!1);this.addEventListener("touchcancel",b,!1)})}function oa(k,f){this.init=function(){var d=a('<div class="altgallery-canvas"></div>');u(d);d.css({display:"block",position:"relative",
width:f.width,height:f.height,cursor:"default"});A(d,{userSelect:"none"});this.element=a("<div></div>");this.element.css({display:"block",position:"relative",width:f.width,height:f.height,overflow:"hidden",margin:0,padding:0,background:f.background});d.append(this.element);var b=a('<a href="http://www.flash-gallery.com/" target="_blank" style="display:block;position:absolute;left:0;top:0;z-index:9999;width:90px;height:20px;overflow:hidden;font-family:Tahoma,Arial,Helvetica,sans-serif;font-size:9px;line-height:12px;text-align:left;text-decoration:none;text-shadow:none;color:#fff;background:rgba(0,0,0,0.7);opacity:0.7;border-radius:4px;"><span style="display:block;padding:4px 10px;text-transform:uppercase;font-size:8px;font-weight:bold;white-space:nowrap;">Photo Gallery</span><span style="display:block;padding:5px 10px 10px;font-size:9px;background:rgba(0,0,0,0.5);border-bottom-left-radius:4px;border-bottom-right-radius:4px;opacity:0;">Download free version of this gallery from Flash-Gallery.com</span></a>');
ga=736;if(!D()){var c=b.width();a.browser.opera&&b.css({width:100}).find("span:first").css({letterSpacing:"-1px"});a.browser.msie&&9>a.browser.version?(b.css({background:"#444"}).find("span:last").css({background:"#222"}),b.hover(function(){a(this).stop().animate({width:120},"fast",function(){a(this).animate({height:70},"fast",function(){a(this).find("span:last").show()})})},function(){a(this).find("span:last").hide();a(this).stop().animate({height:20},"fast",function(){a(this).animate({width:c},
"fast")})})):b.hover(function(){a(this).stop().animate({width:120},"fast",function(){a(this).animate({height:70,opacity:1},"fast",function(){a(this).find("span:last").animate({opacity:1},"slow")})})},function(){a(this).find("span:last").animate({opacity:0},"fast");a(this).stop().animate({height:20},"fast",function(){a(this).animate({width:c,opacity:0.7},"fast")})});d.append(b)}a(k).empty().append(d)};this.init();this.empty=function(){this.element.empty()};this.width=function(a){return a===c?this.element.width():
this.element.width(a)};this.height=function(a){return a===c?this.element.height():this.element.height(a)};this.append=function(a){return this.element.append(a)};this.drawImage=function(k,f,b){var f=a.extend({left:0,top:0,width:120,height:90,scaleMode:"fill",background:"none"},f),b=b===c?this.element:a(b,this.element),e=new Image;e.onload=function(){var c=document.createElement("a");a(c).attr({href:k.source});a(c).css({display:"block",position:"absolute",left:f.x,top:f.y,zIndex:f.z,width:f.width,height:f.height,
overflow:"hidden",background:f.background});a(c).click(f.onclick);a(c).hover(f.onmouseover,f.onmouseout);var p=document.createElement("img");p.src=e.src;var n;"fit"==f.scaleMode?n=F.fit(this.width,this.height,f.width,f.height):"fill"==f.scaleMode&&(n=F.fill(this.width,this.height,f.width,f.height));a(p).css({marginTop:n.top,marginRight:0,marginBottom:0,marginLeft:n.left,width:n.width,height:n.height,padding:0,border:"none",maxWidth:"none",maxHeight:"none",opacity:f.opacity});a(c).append(p);b.append(c)};
e.src=k.thumb}}function X(k,f,d){var c=this;this.canvas=k;this.albums=f;this.items=b(f);this.currentItem=0;this.getCurrentItem=function(){return this.items[this.currentItem]};this.onOpen=function(){};c.onOpenItem={};this.settings=a.extend(!0,{image:{scaleMode:"fit",cornerRadius:10,align:"center",transitionEffect:"fade",transitionDuration:1,useShadow:!0},caption:{visibleMode:"onRollOver",position:"bottom",bgColor:0,bgAlpha:30,color:16777215,fontName:"Arial",fontSize:11},thumbBar:{useThumbBar:!0,position:"bottom",
scrollSpeed:10},thumbnail:{width:80,height:60,cornerRadius:10,alpha:70,outlineColor:3355443,outlineColorOnRollOver:6710886,outlineColorOnClick:10066329,useShadow:!0},slideshow:{start:!1,delay:2.5,loop:!0,stopAutoOnClick:!0}},d);this.settings=x(this.settings);(new Image).src=t.images.loader;c.settings.slideshow.start&&setTimeout(function(){c.slideshowStart()},500*c.settings.image.transitionDuration);this.render()}function M(k,f,d){this.canvas=k;this.albums=f;this.items=b(f);this.currentItem=-1;this.getCurrentItem=
function(){return this.items[this.currentItem]};this.defaultSettings={image:{scaleMode:"fill",padding:0,bgTintColor:16777215},thumbnail:{width:80,height:60,alpha:70},caption:{showCaption:!0},buttons:{showImageNavigationButtons:!0,showLinkButton:!0,showFacebookButton:!0,showTwitterButton:!0,showSlideshowButton:!0,showFullscreenButton:!0},slideshow:{start:!1,delay:2.5},translation:{image:"Image",clickToView:"Click to view",getLink:"Get link",shareWithFacebook:"Share with Facebook",tweet:"Tweet",startSlideshow:"Start slideshow",
stopSlideshow:"Stop slideshow",fullscreenMode:"Fullscreen mode"}};this.settings=a.extend(!0,this.defaultSettings,d);this.settings=x(this.settings);this.init()}function S(k,f,d){this.canvas=k;this.albums=f;this.items=b(f);this.currentItem=-1;this.getCurrentItem=function(){return this.items[this.currentItem]};this.defaultSettings={thumbnail:{width:120,height:90,alpha:85},colorScheme:{thumbsFrameColor:16777215,imageBGColor:1118481,useShadow:!0},imageCaption:{position:"top",color:16777215,bgColor:0,bgAlpha:30,
fontName:"Arial",fontSize:11,visibleMode:"always"}};this.settings=a.extend(!0,this.defaultSettings,d);this.settings=x(this.settings);this.page=0;y(t.images.loader,500);this.render()}function J(k,f,d){this.canvas=k;this.albums=f;this.items=b(f);this.currentItem=0;this.getCurrentItem=function(){return this.items[this.currentItem]};this.defaultSettings={initialState:"Load Image",slideshowDelay:2,showCaption:!0,base:{color:4080713,visibleFrame:5},buttons:{showSlideshowButton:!0,showThumbnailsButton:!0,
bgColor:15066854}};this.settings=a.extend(!0,this.defaultSettings,d);this.settings=x(this.settings);this.enableThumbnailsHover=!0;this.drag=!1;y(t.images.loader,500);this.init()}function V(k,f,d){var c=this;this.canvas=k;this.albums=f;this.settings=a.extend(!0,{imageAngle:30,maxImageWidth:0,useHighlight:!0,useScrollBar:!0,showReflections:!0,solidReflection:!0,reflectionAlpha:80,slideShow:!1,slideShowDelay:2,flipDuration:1,startPosition:"center",colorScheme:"custom",preloader:{stripesAlpha:45,barColor:0,
barAlpha:30,bgColor:0,bgAlpha:20,innerShadow:20,dropShadow:30},scrollbar:{bgColor:0,bgAlpha:40,handleColor:0,handleAlpha:40,arrowsColor:0,arrowsAlpha:40,innerShadow:20,dropShadow:20},caption:{textColor:16777215,bgColor:0,bgAlpha:80,frameColor:16777215,frameAlpha:40,shadowAlpha:50,multilingual:!1,multilingualFontSize:12},background:{bgColor:16777215,transparentBG:!0}},d);this.settings=x(this.settings);this.settings.maxImageWidth||(this.settings.maxImageWidth=parseInt(k.element.width()/2));l()&&(this.settings.useScrollBar=
!1);if(d=this.settings.showReflections)d=this.canvas.element.css("backgroundColor"),d=(z(d).match(/[0-9a-f]{6}$/i)?!0:!1)&&!(a.browser.msie&&9>a.browser.version);this.showReflections=d;this.items=b(f);this.currentItem=0;this.getCurrentItem=function(){return this.items[this.currentItem]};this.getItemX=function(a){return-(this.currentItem-a)};this.getItemZ=function(a){return parseInt(this.items.length/2)-Math.abs(this.getItemX(a))};this.currentItem="left"==this.settings.startPosition?0:"right"==this.settings.startPosition?
this.items.length:Math.floor((this.items.length-1)/2);(new Image).src=t.images.loader;this.scene=a('<div class="altgallery-scene"></div>');this.scene.css({position:"relative",width:k.width(),height:k.height()});this.canvas.element.append(this.scene);var e;Y(this.scene,{touchstart:function(a){c.drag=!0;e=a.pageX},touchend:function(a){var a=a.pageX-e,k=Math.abs(a)>c.canvas.width()/2?2:1;30<a?(setTimeout(function(){c.drag=!1},100),c.prev(k)):-30>a?(setTimeout(function(){c.drag=!1},100),c.next(k)):c.drag=
!1},touchcancel:function(){setTimeout(function(){c.drag=!1},100)}});R(this.scene);this.render()}function W(k,f,d){this.canvas=k;this.albums=f;this.items=b(f);this.currentItem=0;this.getCurrentItem=function(){return this.items[this.currentItem]};this.getNextItem=function(a){return this.items[(this.currentItem+(a||1))%this.items.length]};this.defaultSettings={slideshow:!1,frameColor:16777215,useShadow:!0,visibleImages:5,maxAngle:5,image:{width:0,height:0},imageScaleMode:"fill",caption:{color:0,fontName:"Arial"},
usePhotoNumbers:!0,translation:{back:"BACK",gotoLink:"GO TO LINK"}};this.settings=a.extend(!0,this.defaultSettings,d);this.settings=x(this.settings);3>this.settings.visibleImages&&(this.settings.visibleImages=3);this.settings.visibleImages>this.items.length&&(this.settings.visibleImages=this.items.length);this.stack=[];this.init()}function O(k,f,d){this.canvas=k;this.albums=f;this.currentAlbum=0;this.getCurrentAlbum=function(){return this.albums[this.currentAlbum]};this.currentItem=0;this.getCurrentItem=
function(){return this.getCurrentAlbum().items[this.currentItem]};this.settings=a.extend(!0,{initialState:"Show Albums",imageScaleMode:"fill",frameSize:5,frameColor:"#ffffff",backgroundColor:"#aac5d8",cornerRadius:7,iconWidth:90,iconHeight:55,iconPadding:10,panelBackgroundAlpha:50,showCaption:"always",captionBackgroundAlpha:40,showButtons:"always",buttonsBackgroundAlpha:40,showAlbumsButton:!0,showThumbnailsButton:!0,showSlideshowButton:!0,showNavigationButton:!0,useEmbeddedFont:!0,fontName:"Arial",
fontSize:11,translation:{Album:"Album",Albums:"Albums",Image:"Image",Images:"Images",Close:"CLOSE",BackToAlbums:"BACK TO ALBUMS",LoadingImage:"Loading Image",Of:"of"}},d);this.settings=x(this.settings);this.settings.useEmbeddedFont&&(this.settings.fontName="Tahoma",this.settings.fontSize=9);y(t.images.loader,500);this.cache=function(){if(0<=this.currentItem){var a=this.getCurrentAlbum().items,k=[],d,f;for(f=this.currentItem+1;f<this.currentItem+3;f++)(d=a[(a.length+f)%a.length])&&(d=d.source)&&k.push(d);
for(f=this.currentItem-1;f>this.currentItem-2;f--)(d=a[(a.length+f)%a.length])&&(d=d.source)&&k.push(d);k.length&&U(k,100)}};this.render()}window.altgallery_id=window.altgallery_id||0;var pa=["3132372e302e302e31","6c6f63616c686f7374","666c6173682d67616c6c6572792e636f6d"];sprintfWrapper={init:function(){if("undefined"==typeof arguments||1>arguments.length||"string"!=typeof arguments[0]||"undefined"==typeof RegExp)return null;for(var a=arguments[0],f=RegExp(/(%([%]|(\-)?(\+|\x20)?(0)?(\d+)?(\.(\d)?)?([bcdfosxX])))/g),
d=[],b=[],c=0,e=0,g=0,e=0,p="",n=null;n=f.exec(a);)n[9]&&(c+=1),g=f.lastIndex-n[0].length,b[b.length]=a.substring(e,g),e=f.lastIndex,d[d.length]={match:n[0],left:n[3]?!0:!1,sign:n[4]||"",pad:n[5]||" ",min:n[6]||0,precision:n[8],code:n[9]||"%",negative:0>parseInt(arguments[c])?!0:!1,argument:String(arguments[c])};b[b.length]=a.substring(e);if(0==d.length)return a;if(arguments.length-1<c)return null;a=null;for(a=0;a<d.length;a++)"%"==d[a].code?substitution="%":"b"==d[a].code?(d[a].argument=String(Math.abs(parseInt(d[a].argument)).toString(2)),
substitution=sprintfWrapper.convert(d[a],!0)):"c"==d[a].code?(d[a].argument=String(String.fromCharCode(parseInt(Math.abs(parseInt(d[a].argument))))),substitution=sprintfWrapper.convert(d[a],!0)):"d"==d[a].code?(d[a].argument=String(Math.abs(parseInt(d[a].argument))),substitution=sprintfWrapper.convert(d[a])):"f"==d[a].code?(d[a].argument=String(Math.abs(parseFloat(d[a].argument)).toFixed(d[a].precision?d[a].precision:6)),substitution=sprintfWrapper.convert(d[a])):"o"==d[a].code?(d[a].argument=String(Math.abs(parseInt(d[a].argument)).toString(8)),
substitution=sprintfWrapper.convert(d[a])):"s"==d[a].code?(d[a].argument=d[a].argument.substring(0,d[a].precision?d[a].precision:d[a].argument.length),substitution=sprintfWrapper.convert(d[a],!0)):"x"==d[a].code?(d[a].argument=String(Math.abs(parseInt(d[a].argument)).toString(16)),substitution=sprintfWrapper.convert(d[a])):"X"==d[a].code?(d[a].argument=String(Math.abs(parseInt(d[a].argument)).toString(16)),substitution=sprintfWrapper.convert(d[a]).toUpperCase()):substitution=d[a].match,p+=b[a],p+=
substitution;return p+=b[a]},convert:function(a,f){a.sign=f?"":a.negative?"-":a.sign;var d=a.min-a.argument.length+1-a.sign.length,d=Array(0>d?0:d).join(a.pad);return a.left?"0"==a.pad||f?a.sign+a.argument+d.replace(/0/g," "):a.sign+a.argument+d:"0"==a.pad||f?a.sign+d+a.argument:d+a.sign+a.argument}};sprintf=sprintfWrapper.init;var ga;location.href.match(/#jsgallerydebug$/);var ea,P={};a.extend(a.support,{touch:"ontouchstart"in document});w();var ha=w().replace(/[^\/]*$/,""),F={fit:function(k,f,d,
b,c){var e,g,p=k/f,c=a.extend({noEnlarge:!1,minWidth:16,minHeight:16},c);e=d;g=d/p;g>b&&(g=b,e=g*p);e<c.minWidth&&(e=c.minWidth,g=e/p);g<c.minHeight&&(g=c.minHeight,e=g*p);if(c.noEnlarge&&(e>k||g>f))e=k,g=f;k=(b-g)/2;return{left:Math.round((d-e)/2),top:Math.round(k),width:Math.round(e),height:Math.round(g),margin:0}},fill:function(a,f,d,b){var c=a/f,a=d,f=d/c;f<b&&(f=b,a=f*c);b=(b-f)/2;return{left:Math.round((d-a)/2),top:Math.round(b),width:Math.round(a),height:Math.round(f),margin:0}}},H,ia=function(a,
f,d){var b=[];null==f&&(f=document);null==d&&(d="*");f=f.getElementsByTagName(d);d=f.length;a=RegExp("(^|\\s)"+a+"(\\s|$)");for(j=i=0;i<d;i++)a.test(f[i].className)&&(b[j]=f[i],j++);return b},aa=function(a,f){if(H.debug)try{switch(f){case "warn":console.warn("Pixastic:",a);break;case "error":console.error("Pixastic:",a);break;default:console.log("Pixastic:",a)}}catch(d){}};if("undefined"!=typeof pixastic_parseonload&&pixastic_parseonload){var ja=!1,ba=function(){if(!ja){ja=!0;for(var a=ia("pixastic",
null,"img"),f=ia("pixastic",null,"canvas"),d=a.concat(f),b=0;b<d.length;b++)(function(){for(var a=d[b],k=[],f=a.className.split(" "),c=0;c<f.length;c++){var e=f[c];"pixastic-"==e.substring(0,9)&&(e=e.substring(9),""!=e&&k.push(e))}if(k.length)if("img"==a.tagName.toLowerCase())if(f=new Image,f.src=a.src,f.complete)for(f=0;f<k.length;f++)(c=H.applyAction(a,a,k[f],null))&&(a=c);else f.onload=function(){for(var f=0;f<k.length;f++){var d=H.applyAction(a,a,k[f],null);d&&(a=d)}};else setTimeout(function(){for(var f=
0;f<k.length;f++){var d=H.applyAction(a,a,k[f],null);d&&(a=d)}},1)})()}};document.write('<script defer src="//:" id="__onload_ie_pixastic__"><\/script>');var ca=document.getElementById("__onload_ie_pixastic__");ca.onreadystatechange=function(){"complete"==ca.readyState&&(ca.parentNode.removeChild(ca),ba())};document.addEventListener&&document.addEventListener("DOMContentLoaded",ba,!1);var T=window;T.addEventListener?T.addEventListener("load",ba,!1):T.attachEvent&&T.attachEvent("onload",ba)}var T=
document.createElement("canvas"),ka=!1;try{ka=!!("function"==typeof T.getContext&&T.getContext("2d"))}catch(ra){}var T=function(){return ka},Z,Q=document.createElement("canvas"),la=!1;try{if("function"==typeof Q.getContext&&(Z=Q.getContext("2d")))la="function"==typeof Z.getImageData}catch(sa){}Z=function(){return la};var ma=!1,Q=document.createElement("canvas");if(T()&&Z()){Q.width=Q.height=1;Q=Q.getContext("2d");Q.fillStyle="rgb(255,0,0)";Q.fillRect(0,0,1,1);var da=document.createElement("canvas");
da.width=da.height=1;var na=da.getContext("2d");na.fillStyle="rgb(0,0,255)";na.fillRect(0,0,1,1);Q.globalAlpha=0.5;Q.drawImage(da,0,0);ma=255!=Q.getImageData(0,0,1,1).data[2]}H={parseOnLoad:!1,debug:!1,applyAction:function(a,f,d,b){var b=b||{},c="canvas"==a.tagName.toLowerCase();if(c&&H.Client.isIE())return H.debug&&aa("Tried to process a canvas element but browser is IE."),!1;var e,g,p=!1;H.Client.hasCanvas()&&(p=!!b.resultCanvas,e=b.resultCanvas||document.createElement("canvas"),g=e.getContext("2d"));
var n=a.offsetWidth,r=a.offsetHeight;c&&(n=a.width,r=a.height);if(0==n||0==r)if(null==a.parentNode){var m=a.style.position,v=a.style.left;a.style.position="absolute";a.style.left="-9999px";document.body.appendChild(a);n=a.offsetWidth;r=a.offsetHeight;document.body.removeChild(a);a.style.position=m;a.style.left=v}else{H.debug&&aa("Image has 0 width and/or height.");return}if(-1<d.indexOf("(")&&(m=d,d=m.substr(0,m.indexOf("(")),m=m.match(/\((.*?)\)/),m[1])){m=m[1].split(";");for(v=0;v<m.length;v++)if(thisArg=
m[v].split("="),2==thisArg.length)if("rect"==thisArg[0]){var I=thisArg[1].split(",");b[thisArg[0]]={left:parseInt(I[0],10)||0,top:parseInt(I[1],10)||0,width:parseInt(I[2],10)||0,height:parseInt(I[3],10)||0}}else b[thisArg[0]]=thisArg[1]}b.rect?(b.rect.left=Math.round(b.rect.left),b.rect.top=Math.round(b.rect.top),b.rect.width=Math.round(b.rect.width),b.rect.height=Math.round(b.rect.height)):b.rect={left:0,top:0,width:n,height:r};m=!1;H.Actions[d]&&"function"==typeof H.Actions[d].process&&(m=!0);if(!m)return H.debug&&
aa('Invalid action "'+d+'". Maybe file not included?'),!1;if(!H.Actions[d].checkSupport())return H.debug&&aa('Action "'+d+'" not supported by this browser.'),!1;H.Client.hasCanvas()?(e!==a&&(e.width=n,e.height=r),p||(e.style.width=n+"px",e.style.height=r+"px"),g.drawImage(f,0,0,n,r),a.__pixastic_org_image?(e.__pixastic_org_image=a.__pixastic_org_image,e.__pixastic_org_width=a.__pixastic_org_width,e.__pixastic_org_height=a.__pixastic_org_height):(e.__pixastic_org_image=a,e.__pixastic_org_width=n,e.__pixastic_org_height=
r)):H.Client.isIE()&&"undefined"==typeof a.__pixastic_org_style&&(a.__pixastic_org_style=a.style.cssText);f={image:a,canvas:e,width:n,height:r,useData:!0,options:b};return!H.Actions[d].process(f)?!1:H.Client.hasCanvas()?(f.useData&&H.Client.hasCanvasImageData()&&(e.getContext("2d").putImageData(f.canvasData,b.rect.left,b.rect.top),e.getContext("2d").fillRect(0,0,0,0)),b.leaveDOM||(e.title=a.title,e.imgsrc=a.imgsrc,c||(e.alt=a.alt),c||(e.imgsrc=a.src),e.className=a.className,e.style.cssText=a.style.cssText,
e.name=a.name,e.tabIndex=a.tabIndex,e.id=a.id,a.parentNode&&a.parentNode.replaceChild&&a.parentNode.replaceChild(e,a)),b.resultCanvas=e):a},prepareData:function(a,f){var d=a.canvas.getContext("2d"),b=a.options.rect,d=d.getImageData(b.left,b.top,b.width,b.height),b=d.data;f||(a.canvasData=d);return b},process:function(a,f,d,b){if("img"==a.tagName.toLowerCase()){var c=new Image;c.src=a.src;if(c.complete){var e=H.applyAction(a,c,f,d);b&&b(e);return e}c.onload=function(){var e=H.applyAction(a,c,f,d);
b&&b(e)}}if("canvas"==a.tagName.toLowerCase())return e=H.applyAction(a,a,f,d),b&&b(e),e},revert:function(a){if(H.Client.hasCanvas()){if("canvas"==a.tagName.toLowerCase()&&a.__pixastic_org_image)return a.width=a.__pixastic_org_width,a.height=a.__pixastic_org_height,a.getContext("2d").drawImage(a.__pixastic_org_image,0,0),a.parentNode&&a.parentNode.replaceChild&&a.parentNode.replaceChild(a.__pixastic_org_image,a),a}else H.Client.isIE()&&"undefined"!=typeof a.__pixastic_org_style&&(a.style.cssText=a.__pixastic_org_style)},
Client:{hasCanvas:T,hasCanvasImageData:Z,hasGlobalAlpha:function(){return ma},isIE:function(){return!!document.all&&!!window.attachEvent&&!window.opera}},Actions:{}};H.Actions.blurfast={process:function(a){var f=parseFloat(a.options.amount)||0,d=!!(a.options.clear&&"false"!=a.options.clear),f=Math.max(0,Math.min(5,f));if(H.Client.hasCanvas()){var b=a.options.rect,c=a.canvas.getContext("2d");c.save();c.beginPath();c.rect(b.left,b.top,b.width,b.height);c.clip();var e=Math.round(a.width/2),g=Math.round(a.height/
2),p=document.createElement("canvas");p.width=e;p.height=g;for(var d=!1,f=Math.round(20*f),n=p.getContext("2d"),r=0;r<f;r++){var m=Math.max(1,Math.round(e-r)),v=Math.max(1,Math.round(g-r));n.clearRect(0,0,e,g);n.drawImage(a.canvas,0,0,a.width,a.height,0,0,m,v);d&&c.clearRect(b.left,b.top,b.width,b.height);c.drawImage(p,0,0,m,v,0,0,a.width,a.height)}c.restore();a.useData=!1;return!0}if(H.Client.isIE())return d=10*f,a.image.style.filter+=" progid:DXImageTransform.Microsoft.Blur(pixelradius="+d+")",
a.image.style.marginLeft=(parseInt(a.image.style.marginLeft,10)||0)-Math.round(d)+"px",a.image.style.marginTop=(parseInt(a.image.style.marginTop,10)||0)-Math.round(d)+"px",!0},checkSupport:function(){return H.Client.hasCanvas()||H.Client.isIE()}};var qa=23;X.prototype.render=function(){var k=this,f=this.settings,d=this.canvas,b=this.items,c=a('<div class="altgallery-imageFrame" style="position:absolute;"></div>'),e={},g;if(f.thumbBar.useThumbBar)switch(f.thumbBar.position.toLowerCase()){default:case "bottom":g=
!0;e.left=10;e.top=10;e.width=d.width()-20;e.height=d.height()-f.thumbnail.height-30;break;case "top":g=!0;e.left=10;e.bottom=10;e.width=d.width()-20;e.height=d.height()-f.thumbnail.height-30;break;case "left":g=!1;e.right=10;e.top=10;e.width=d.width()-f.thumbnail.width-30;e.height=d.height()-20;break;case "right":g=!1,e.left=10,e.top=10,e.width=d.width()-f.thumbnail.width-30,e.height=d.height()-20}else e.left=10,e.top=10,e.width=d.width()-20,e.height=d.height()-20;c.css(e);d.element.append(c);var p,
n;Y(c,{touchstart:function(a){k.drag=!0;p=a.pageX;n=a.pageY},touchend:function(a){a=g?a.pageX-p:a.pageY-n;30<a?(setTimeout(function(){k.drag=!1},100),k.prev()):-30>a?(setTimeout(function(){k.drag=!1},100),k.next()):k.drag=!1},touchcancel:function(){k.drag=!1}});R(c);if(f.thumbBar.useThumbBar){var r=k.thumbBar=a('<div class="altgallery-thumbBar"></div>'),m,v,I,h,q,c={};switch(f.thumbBar.position.toLowerCase()){default:case "bottom":m="horizontal";v=d.width()-20;I=f.thumbnail.height+4;h=b.length*(f.thumbnail.width+
5)-5;q=I;c.left=10;c.bottom=7;c.width=v;c.height=I;break;case "top":m="horizontal";v=d.width()-20;I=f.thumbnail.height+4;h=b.length*(f.thumbnail.width+5)-5;q=I;c.left=10;c.top=9;c.width=v;c.height=I;break;case "left":m="vertical";v=f.thumbnail.width+4;I=d.height()-20;h=v;q=b.length*(f.thumbnail.height+5)-5;c.left=9;c.top=10;c.width=v;c.height=I;break;case "right":m="vertical",v=f.thumbnail.width+4,I=d.height()-20,h=v,q=b.length*(f.thumbnail.height+5)-5,c.right=8,c.top=10,c.width=v,c.height=I}c.position=
"absolute";c.overflow="hidden";r.css(c);var C=a("<div></div>");C.css({position:"relative",width:h,height:q});for(c=0;c<b.length;c++)(function(d){var c=a('<a href="'+b[d].source+'"></a>');c.css({position:"absolute",left:"horizontal"==m?d*(f.thumbnail.width+5):1,top:"horizontal"==m?1:d*(f.thumbnail.height+5),width:f.thumbnail.width-4,height:f.thumbnail.height-4,overflow:"hidden",border:"2px solid",borderColor:z(f.thumbnail.outlineColor),"-moz-border-radius":f.thumbnail.cornerRadius/2,"-webkit-border-radius":f.thumbnail.cornerRadius/
2,"-khtml-border-radius":f.thumbnail.cornerRadius/2,borderRadius:f.thumbnail.cornerRadius/2,opacity:f.thumbnail.alpha/100});c.hover(function(){var d=a(this);d.hasClass("altgallery-active")||(d.data("style",{opacity:d.css("opacity"),borderColor:d.css("borderTopColor")}),d.css({borderColor:z(f.thumbnail.outlineColorOnRollOver),opacity:1}))},function(){var d=a(this);d.hasClass("altgallery-active")||d.css(d.data("style"))});k.onOpenItem[d]=function(){var a=r.find("a").eq(d);a.parent().find("a").removeClass("altgallery-active").css({opacity:f.thumbnail.alpha/
100,borderColor:z(f.thumbnail.outlineColor)});a.addClass("altgallery-active").data("style",{opacity:1,borderColor:z(f.thumbnail.outlineColorOnClick)}).css(a.data("style"));var b;if("horizontal"==m&&v<h){var k=0-(d*(f.thumbnail.width+5)-v/2+f.thumbnail.width/2),a=0-h+v;0<k&&(k=0);k<a&&(k=a);C.animate({left:k});C.unbind("mouseleave").mouseleave(function(){b=setTimeout(function(){C.animate({left:k},1E3)},1E3)})}else I<q&&(k=0-(d*(f.thumbnail.height+5)-I/2+f.thumbnail.height/2),a=0-q+I,0<k&&(k=0),k<a&&
(k=a),C.animate({top:k}),C.unbind("mouseleave").mouseleave(function(){b=setTimeout(function(){C.animate({top:k},1E3)},1E3)}));C.unbind("mouseenter").mouseenter(function(){clearTimeout(b)})};c.click(function(){k.drag||(k.currentItem=d,a(this).hasClass("altgallery-active")||k.open(b[d]));return!1});C.append(c);var e=new Image;e.onload=function(){var k=a('<img src="'+b[d].thumb+'" alt="" />');u(k);k.css({position:"absolute",border:"none"});k.css(F.fill(this.width,this.height,f.thumbnail.width-4,f.thumbnail.height-
4));f.thumbnail.useShadow&&c.css({"-moz-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)","-webkit-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)","-khtml-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)",boxShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)"});c.append(k)};e.src=b[d].thumb})(c);r.append(C);var l=function(){clearInterval(t);y=!1},t,y=!1;"horizontal"==m&&v<h?(r.mousemove(function(d){k.drag||(d=d.pageX-a(this).offset().left,30>d?y||(y=!0,C.stop(),t=setInterval(function(){var a=parseInt(C.css("left"))+parseInt(f.thumbBar.scrollSpeed);
0<a?(C.css("left",0),l()):C.css("left",a)},25)):d>v-30?y||(y=!0,C.stop(),t=setInterval(function(){var a=parseInt(C.css("left"))-parseInt(f.thumbBar.scrollSpeed),d=0-h+v;a<d?(C.css("left",d),l()):C.css("left",a)},25)):l())}),C.draggable({axis:"x",start:function(){k.drag=!0},stop:function(a,d){var b=d.position.left,f=0-h+v;0<b?C.animate({left:0},"fast"):b<f&&C.animate({left:f},"fast");setTimeout(function(){k.drag=!1},100)}})):I<q&&(r.mousemove(function(d){k.drag||(d=d.pageY-a(this).offset().top,30>
d?y||(y=!0,C.stop(),t=setInterval(function(){var a=parseInt(C.css("top"))+parseInt(f.thumbBar.scrollSpeed);0<a?(C.css("top",0),l()):C.css("top",a)},25)):d>I-30?y||(y=!0,C.stop(),t=setInterval(function(){var a=parseInt(C.css("top"))-parseInt(f.thumbBar.scrollSpeed),d=0-q+I;a<d?(C.css("top",d),l()):C.css("top",a)},25)):l())}),C.draggable({axis:"y",start:function(){k.drag=!0},stop:function(a,d){var b=d.position.top,f=0-q+I;0<b?C.animate({top:0},"fast"):b<f&&C.animate({top:f},"fast");setTimeout(function(){k.drag=
!1},100)}}));R(C);r.mouseleave(function(){l()});d.element.append(r);d.element.find(".altgallery-thumbBar a").eq(k.currentItem).click()}else k.open(k.getCurrentItem())};X.prototype.open=function(k){var b=this,d=this.settings,c=this.canvas,e=c.element.find(".altgallery-imageFrame"),s=a('<img class="altgallery-preloader" src="'+t.images.loader+'" alt="" />');u(s);s.css({position:"absolute",left:"50%",top:"50%",zIndex:10,margin:"-16px 0 0 -16px"});y(k.source,function(g){s.hide();c.element.find(".altgallery-preloader").remove();
var p=d.image.scaleMode.toLowerCase(),n="fill"==p?F.fill(g.width,g.height,e.width(),e.height()):F.fit(g.width,g.height,e.width(),e.height()),r;k.link?(r=a("<a></a>"),r.attr("href",k.link),k.target&&r.attr("target",k.target)):r=a("<div></div>");r.click(function(){if(b.drag)return!1});r.css({display:"block",position:"absolute",left:"fill"==p?0:n.left,top:"fill"==p?0:n.top,width:"fill"==p?e.width():n.width,height:"fill"==p?e.height():n.height,overflow:"hidden","-moz-border-radius":d.image.cornerRadius/
2,"-webkit-border-radius":d.image.cornerRadius/2,"-khtml-border-radius":d.image.cornerRadius/2,borderRadius:d.image.cornerRadius/2});d.image.useShadow&&r.css({"-moz-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)","-webkit-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)","-khtml-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)",boxShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)"});var m=a('<img src="'+g.src+'" alt="" />');u(m);m.css({position:"absolute",left:"fill"==p?n.left:0,top:"fill"==p?n.top:0,width:n.width,height:n.height});
r.append(m);if(k.description&&"never"!=d.caption.visibleMode.toLowerCase()){var v=a("<div></div>");v.html(k.description.replace("\n","<br/>"));v.css({position:"absolute",left:0,width:n.width-20,padding:"9px 10px",fontFamily:d.caption.fontName,fontSize:d.caption.fontSize,lineHeight:1.25,color:z(d.caption.color),background:G(d.caption.bgColor,d.caption.bgAlpha/100)});"top"==d.caption.position.toLowerCase()?(v.css({top:0,borderBottom:"1px solid",borderBottomColor:G("#000000",(d.caption.bgAlpha+10)/100)}),
"onrollover"==d.caption.visibleMode.toLowerCase()&&(v.hide(),r.hover(function(){v.css({top:-(v.height()+18)});v.show().stop().animate({top:0},t.animation.duration)},function(){v.animate({top:-(v.height()+18)},t.animation.duration,function(){v.hide()})}))):(v.css({bottom:0,borderTop:"1px solid",borderTopColor:G("#000000",(d.caption.bgAlpha+10)/100)}),"onrollover"==d.caption.visibleMode.toLowerCase()&&(v.hide(),r.hover(function(){v.css({bottom:-(v.height()+18)});v.show().stop().animate({bottom:0},t.animation.duration)},
function(){v.animate({bottom:-(v.height()+18)},t.animation.duration,function(){v.hide()})})));r.append(v)}switch(d.image.transitionEffect.toLowerCase()){default:case "fade":e.animate({opacity:0},{duration:500*d.image.transitionDuration,easing:"linear",complete:function(){e.empty();e.append(r);e.animate({opacity:1},{duration:500*d.image.transitionDuration,easing:"swing",complete:function(){b.onOpen(g)}})}});break;case "xfade":case "crossfade":e.css({opacity:1}),p=e.find("div"),p.size()?(p.animate({opacity:0},
{duration:1E3*d.image.transitionDuration,easing:"linear",complete:function(){a(this).remove();b.onOpen(g)}}),e.append(r),r.css({opacity:0}).animate({opacity:1},{duration:1E3*d.image.transitionDuration,easing:"linear"})):(e.append(r),r.css({opacity:0}).animate({opacity:1},{duration:1E3*d.image.transitionDuration,easing:"linear",complete:function(){b.onOpen(g)}}))}b.onOpenItem[parseInt(k.id)]()});setTimeout(function(){c.element.find(".altgallery-preloader").remove();e.append(s)},500)};X.prototype.prev=
function(){0<this.currentItem?this.currentItem--:this.currentItem=this.items.length-1;this.open(this.getCurrentItem())};X.prototype.next=function(){this.currentItem<this.items.length-1?this.currentItem++:this.currentItem=0;this.open(this.getCurrentItem())};X.prototype.slideshowStart=function(){var a=this;a.slideshow=!0;a.onOpen=function(){a.slideshowTimer&&clearInterval(a.slideshowTimer);a.slideshowTimer=setTimeout(function(){a.next()},1E3*a.settings.slideshow.delay)};if(a.settings.slideshow.stopAutoOnClick){var b=
function(){a.slideshowStop();a.canvas.element.unbind("click",b).find("a").unbind("click",b)};a.canvas.element.bind("click",b).find("a").bind("click",b)}};X.prototype.slideshowStop=function(){this.onOpen=function(){};this.slideshow=!1;clearInterval(this.slideshowTimer)};M.prototype.init=function(){var a=this,b=a.settings;a.initPreloader();a.initImage();a.initNavigation();a.initThumbnails();a.initCaption();a.initButtons();var d,c=0;if((d=location.hash.match(/#galleryPhotoNumber=(\d+)/))||(d=location.href.match(/[?&]galleryPhotoNumber=(\d+)/)))c=
d[1]-1;a.open(a.items[c],function(){b.slideshow.start&&a.slideshowStart()})};M.prototype.initPreloader=function(){var b=this.canvas;y(t.images.loader,500);var f=this.preloader=a('<img alt="" />');f.attr({src:t.images.loader}).css({position:"absolute",left:"50%",top:"50%",zIndex:100,margin:"-16px 0 0 -16px"});b.append(f)};M.prototype.initImage=function(){var b=this,f=b.canvas,d=b.settings;0==d.image.padding&&(b.zeroPadding=!0,d.image.padding=10);var c=a("<div />");c.css({position:"absolute",left:0,
top:0,width:f.width(),height:f.height()});f.append(c);if(!b.zeroPadding){var e=b.background=a("<div />");e.css({position:"absolute",left:0,top:0,zIndex:0,width:f.width(),height:f.height(),overflow:"hidden",background:z(d.image.bgTintColor)});c.append(e)}e=b.imageFrame=a("<div />");e.css({position:"absolute",left:d.image.padding,top:d.image.padding,zIndex:1,width:f.width()-2*d.image.padding,height:f.height()-2*d.image.padding,overflow:"visible"});c.append(e);var s;Y(c,{touchstart:function(a){b.drag=
!0;s=a.pageX},touchend:function(a){a=a.pageX-s;30<a?(setTimeout(function(){b.drag=!1},100),b.prev()):-30>a?(setTimeout(function(){b.drag=!1},100),b.next()):b.drag=!1},touchcancel:function(){setTimeout(function(){b.drag=!1},100)}});R(c)};M.prototype.initNavigation=function(){this.settings.buttons.showImageNavigationButtons&&(this.initPrevButton(),this.initNextButton())};M.prototype.initPrevButton=function(){var b=this,f=b.canvas,d=b.prevButton=a("<div></div>");d.css({position:"absolute",left:-10,top:(f.height()-
69)/2,zIndex:1,width:72,height:69,background:"no-repeat center 0",backgroundImage:B(t.images.folder+"aura-arrows.png"),opacity:0.5,cursor:"pointer"}).hover(function(){a(this).css({opacity:1})},function(){a(this).css({opacity:0.5})}).click(function(){b.prev();return!1});f.append(d)};M.prototype.initNextButton=function(){var b=this,f=b.canvas,d=b.nextButton=a("<div></div>");d.css({position:"absolute",right:-10,top:(f.height()-69)/2,zIndex:1,width:72,height:69,background:"no-repeat center -75px",backgroundImage:B(t.images.folder+
"aura-arrows.png"),opacity:0.5,cursor:"pointer"}).hover(function(){a(this).css({opacity:1})},function(){a(this).css({opacity:0.5})}).click(function(){b.next();return!1});f.append(d)};M.prototype.initThumbnails=function(){var b=this,f=b.canvas,d=b.settings,c=b.items,e=f.width(),s=b.thumbBar=a("<div />");s.css({position:"absolute",left:0,bottom:0,zIndex:1,width:e,height:d.thumbnail.height+50,background:"rgba(0,0,0,0.5)"});var g=a("<div />");g.css({position:"absolute",left:0,top:29,width:f.width(),height:1,
background:"#fff",opacity:0.7});A(g,{boxShadow:"0 1px 0 #000"});s.append(g);var p=a('<div class="altgallery-thumbnails" />');p.css({position:"absolute",left:0,bottom:10});var n=c.length*(d.thumbnail.width+10),g=Math.ceil(n/e),e=1<g?0:(e-n)/2-5,r,m=!1;f.element.mouseover(function(){s.stop().animate({opacity:1})});f.element.mouseleave(function(){m=!1;clearInterval(r);s.stop().animate({opacity:0})});1<g&&(s.mousemove(function(b){b=b.pageX-a(this).offset().left;50>b?m||(m=!0,r=setInterval(function(){var a=
parseInt(p.css("left"))+10;0<a&&(a=0);p.css({left:a})},25)):b>f.width()-50?m||(m=!0,r=setInterval(function(){var a=parseInt(p.css("left"))-10,b=-(n-f.width()+10);a<b&&(a=b);p.css({left:a})},25)):(m=!1,clearInterval(r))}).mouseleave(function(){m=!1;clearInterval(r)}),p.draggable({axis:"x",start:function(){b.drag=!0},stop:function(a,d){var c=d.position.left,e=-(n-f.width()+10);0<c?p.animate({left:0},"fast"):c<e&&p.animate({left:e},"fast");setTimeout(function(){b.drag=!1},100)}}));for(g=0;g<c.length;g++){var v=
a("<a></a>");v.attr({href:c[g].source}).css({position:"absolute",left:10+g*(d.thumbnail.width+10)+e,bottom:0,width:d.thumbnail.width,height:d.thumbnail.height,overflow:"hidden",opacity:parseInt(d.thumbnail.alpha)/100});(function(f,e){e.hover(function(){a(this).css({opacity:1});A(this,{boxShadow:"0 0 6px #fff"})},function(){f!=b.currentItem&&(a(this).css({opacity:parseInt(d.thumbnail.alpha)/100}),A(this,{boxShadow:"none"}))}).click(function(){b.drag||b.open(c[f],function(){});return!1});y(c[f].thumb,
function(b){var f=a('<img alt="" />');f.attr({src:b.src});f.css({position:"absolute"});f.css(F.fill(b.width,b.height,d.thumbnail.width,d.thumbnail.height));e.append(f)},50*f)})(g,v);p.append(v)}s.append(p);f.append(s);R(s)};M.prototype.initCaption=function(){var b=this.canvas,f=this.caption=a("<div />");this.settings.caption.showCaption&&(f.css({position:"absolute",left:10,top:8,width:b.width()-100,height:"16px",lineHeight:"16px",overflow:"hidden",fontFamily:'"Times New Roman", Times, serif',fontSize:"12px",
fontWeight:"bold",color:"#fff",textShadow:"0 1px 0 #000"}),this.thumbBar.append(f))};M.prototype.initButtons=function(){function b(){a(this).css({opacity:1})}function f(){a(this).css({opacity:0.5})}var d=this,c=d.settings,e=a("<div />");e.css({position:"absolute",right:5,top:7});var s={cssFloat:"left",width:16,height:16,margin:"0 0 0 4px",backgroundImage:B(t.images.folder+"aura-buttons.png"),backgroundRepeat:"no-repeat",opacity:0.5,cursor:"pointer"},g=d.linkButton=a("<div />");c.buttons.showLinkButton&&
(g.prop({title:c.translation.getLink}).css(s).css({backgroundPosition:"0 -40px"}).click(function(){var a=d.getCurrentItem();a.link&&h(a.link,a.target||"_blank")}).hover(b,f),e.append(g));c.buttons.showFacebookButton&&(g=a("<div />"),g.prop({title:c.translation.shareWithFacebook}).css(s).css({backgroundPosition:"0 -60px"}).click(function(){h("http://www.facebook.com/sharer.php?u="+location.href+"%23galleryPhotoNumber="+(d.currentItem+1)+"&t="+d.getCurrentItem().description||"","_blank")}).hover(b,
f),e.append(g));c.buttons.showTwitterButton&&(g=a("<div />"),g.prop({title:c.translation.tweet}).css(s).css({backgroundPosition:"0 -80px"}).click(function(){h("https://twitter.com/intent/tweet?url="+location.href+"%23galleryPhotoNumber="+(d.currentItem+1)+"&text="+d.getCurrentItem().description||"","_blank")}).hover(b,f),e.append(g));if(c.buttons.showLinkButton||c.buttons.showFacebookButton||c.buttons.showTwitterButton)g=a("<div />"),g.css({cssFloat:"left",width:1,height:14,margin:"0 3px 0 5px",background:"#fff"}),
e.append(g);c.buttons.showSlideshowButton&&(g=a("<div />"),g.prop({title:c.translation.startSlideshow}).css(s).css({backgroundPosition:"0 0"}).click(function(){d.slideshow?(d.slideshowStop(),a(this).css({backgroundPosition:"0 0"})):(d.slideshowStart(),a(this).css({backgroundPosition:"0 -20px"}))}).hover(b,f),e.append(g));d.thumbBar.append(e)};M.prototype.update=function(){this.updateThumbnails();this.updateNavigation();this.updateCaption()};M.prototype.updateThumbnails=function(){var b=this,f=0;b.thumbBar.find(".altgallery-thumbnails a").each(function(){var d=
a(this);f==b.currentItem?(d.css({opacity:1}),A(d,{boxShadow:"0 0 6px #fff"})):(d.css({opacity:parseInt(b.settings.thumbnail.alpha)/100}),A(d,{boxShadow:"none"}));f++})};M.prototype.updateNavigation=function(){this.settings.buttons.showImageNavigationButtons&&(0==this.currentItem?this.prevButton.hide():this.prevButton.show(),this.currentItem==this.items.length-1?this.nextButton.hide():this.nextButton.show())};M.prototype.updateCaption=function(a){a=a||this.getCurrentItem().description||this.settings.translation.image+
" "+(this.currentItem+1)+"/"+this.items.length;this.caption.html(a.replace("\n","<br/>"))};M.prototype.open=function(b,f){var d=this,c=d.canvas,e=d.settings;if(d.currentItem!=b.id){d.currentItem=b.id;d.getCurrentItem().link?d.linkButton.show():d.linkButton.hide();var s=setTimeout(function(){d.preloader.show()},500);y(b.source,function(b){clearTimeout(s);d.preloader.hide();var k=a('<img alt="" />');k.attr({src:b.src}).css({position:"absolute"});var n,r=d.imageFrame.width(),m=d.imageFrame.height();
"fill"==e.image.scaleMode?(n=F.fill(b.width,b.height,r,m),n.width>r&&(n.width=r,n.left=0),n.height>m&&(n.height=m,n.top=0)):n=F.fit(b.width,b.height,r,m);k.css(F.fill(b.width,b.height,n.width,n.height));var v=d.imageFrame.find("div"),r=a("<div />");r.css({position:"absolute",overflow:"hidden"}).css(n).hide();A(r,{boxShadow:"0 6px 6px rgba(0,0,0,0.6)"});r.append(k);d.imageFrame.append(r);v.animate({opacity:"hide"},t.animation.duration);r.animate({opacity:"show"},t.animation.duration,function(){v.remove()});
if(!d.zeroPadding){k=a('<img alt="" />');k.attr({src:b.src}).css({position:"absolute"});k.css(F.fill(b.width,b.height,c.width(),c.height()));var h=d.background.find("div");n=a("<div />");n.css({opacity:0});n.append(k);d.background.append(n);H.process(k.get(0),"blurfast",{amount:1.5});h.animate({opacity:0},2*t.animation.duration);n.animate({opacity:0.5},2*t.animation.duration,function(){h.remove()})}"function"==typeof f&&f(b);y(d.items[(d.currentItem+1)%d.items.length].source)});d.update()}};M.prototype.prev=
function(a){0<this.currentItem?this.open(this.items[this.currentItem-1],a):this.open(this.items[this.items.length-1],a)};M.prototype.next=function(a){this.currentItem<this.items.length-1?this.open(this.items[this.currentItem+1],a):this.open(this.items[0],a)};M.prototype.slideshowStart=function(){var a=this,b=a.settings;if(!a.slideshow){var d=function(){a.slideshowTimeoutId=setTimeout(function(){a.next(d)},1E3*b.slideshow.delay+2E3)};a.slideshow=!0;setTimeout(function(){a.next(d)},1E3*b.slideshow.delay)}};
M.prototype.slideshowStop=function(){this.slideshow&&(this.slideshow=!1,clearTimeout(this.slideshowTimeoutId))};S.prototype.render=function(b){var f=this,d=this.canvas,e=this.items,K=this.settings;b===c&&(b=f.page);d.element.empty();var s=d.width(),g=d.height(),p=parseInt(K.thumbnail.width),n=parseInt(K.thumbnail.height),r=Math.floor((s-40)/p);1>r&&(r=1);var m=Math.floor((g-40)/n);1>m&&(m=1);b=Math.ceil(e.length/r);m>b&&(m=b);var v=r*m,h=f.pagesCount=Math.ceil(e.length/v),q=Math.floor(K.thumbnail.width)+
2,l=Math.floor(K.thumbnail.height)+2,C=Math.floor((s-q*r)/2-8),u=Math.floor((g-l*m)/2-8),w=f.pageWidth=q*r,b=f.pageHeight=l*m,x=a('<div class="altgallery-frame" />'),g={position:"absolute",left:C,top:u,width:Math.floor(s-2*(C+8))+14,height:Math.floor(g-2*(u+8))+14,background:z(K.colorScheme.thumbsFrameColor),"-moz-border-radius":"4px","-webkit-border-radius":"4px","-khtml-border-radius":"4px",borderRadius:"4px"};K.colorScheme.useShadow&&(g=a.extend(g,{"-moz-box-shadow":"0 0 10px rgba(0, 0, 0, 0.5)",
"-webkit-box-shadow":"0 0 10px rgba(0, 0, 0, 0.5)","-khtml-box-shadow":"0 0 10px rgba(0, 0, 0, 0.5)",boxShadow:"0 0 10px rgba(0, 0, 0, 0.5)"}));x.css(g);d.element.append(x);s=a('<div class="altgallery-frameMask" />');g.background="#000";g.opacity=0.6;g.zIndex=20;g["-moz-box-shadow"]="none";g["-webkit-box-shadow"]="none";g["-khtml-box-shadow"]="none";g.boxShadow="none";s.css(g).hide();d.element.append(s);d=a("<div />");d.css({position:"absolute",left:8,top:8,width:w-2,height:b-2,overflow:"hidden"});
var $=f.imagesContainer=a("<div />");$.css({position:"relative",left:0,top:0,width:q*r*h-2,height:l*m-2});d.append($);x.append(d);f.drag=!1;var fa=0;$.draggable({axis:"x",distance:30,start:function(a,b){fa=b.position.left;f.drag=!0},stop:function(a,b){30<Math.abs(Math.abs(fa)-Math.abs(b.position.left))?fa<b.position.left?f.prevPage():f.nextPage():f.placePage();setTimeout(function(){f.drag=!1},100)}});R($);for(d=0;d<e.length;d++)h=d%r*q+Math.floor(d/v)*w,s=Math.floor(d/r)%m*l,function(b,d,c){var k=
a("<img />"),g=a("<a />");g.attr({href:e[b].source}).css({display:"block",position:"absolute",left:Math.floor(d),top:Math.floor(c+0.5*n),width:p,height:n,overflow:"hidden",opacity:0,background:z(K.colorScheme.imageBGColor),border:"none",margin:0,padding:0}).click(function(){return!1});$.append(g);var m=function(){g.click(function(){f.drag||(f.currentItem=b,f.open(e[b],{left:b%r*q+C,top:c+u}));return!1}).mouseover(function(){k.stop().animate({opacity:1},t.animation.duration/2)}).mouseleave(function(){k.stop().animate({opacity:K.thumbnail.alpha/
100},t.animation.duration/2)})};b<v?setTimeout(function(){g.animate({top:c,opacity:1},{duration:t.animation.duration,complete:m})},200*b):(g.css({top:c,opacity:1}),m());y(e[b].thumb,function(a){k.attr({src:a.src}).css({display:"block",position:"absolute",margin:0,padding:0,border:"none",opacity:K.thumbnail.alpha/100}).css(F.fill(a.width,a.height,parseInt(K.thumbnail.width),parseInt(K.thumbnail.height)));g.append(k)},200*b)}(d,h,s);m=f.prevPageButton=a("<div />");m.css({position:"absolute",left:5,
top:b/2-10,width:30,height:30,background:B(t.images.folder+"/left.png"),cursor:"pointer"});A(m,{borderRadius:"4px"});m.click(function(){f.prevPage()});x.append(m);m=f.nextPageButton=a("<div />");m.css({position:"absolute",right:5,top:b/2-10,width:30,height:30,background:B(t.images.folder+"/right.png"),cursor:"pointer"});A(m,{borderRadius:"4px"});m.click(function(){f.nextPage()});x.append(m);x.mouseover(function(){f.showControls()});x.mouseleave(function(){f.hideControls()});f.hideControls();f.showControls()};
S.prototype.hideControls=function(){this.prevPageButton.hide();this.nextPageButton.hide()};S.prototype.showControls=function(){0<this.page&&this.prevPageButton.show();this.page<this.pagesCount-1&&this.nextPageButton.show()};S.prototype.open=function(b,f){var d=this,e=this.settings,K=a('<img class="altgallery-preloader" src="'+t.images.loader+'" alt="" />');u(K);K.css({position:"absolute",left:"50%",top:"50%",zIndex:10,margin:"-16px 0 0 -16px"});var s=a('<img src="'+b.thumb+'" />');y(b.thumb,function(g){a(".altgallery-imageFrame",
d.canvas.element).remove();a(".altgallery-frameMask",d.canvas.element).fadeIn(t.animation.duration);var p=document.createElement("div");a(p).addClass("altgallery-imageFrame").css({position:"absolute",padding:8,background:z(e.colorScheme.imageBGColor),zIndex:30});a(p).hide();var n=F.fit(g.width,g.height,d.canvas.width()-48,d.canvas.height()-48),r={left:n.left+16+n.width/3,top:n.top+16+n.height/3,width:n.width/3,height:n.height/3};f!==c&&(f.left!==c&&(r.left=f.left),f.top!==c&&(r.top=f.top));a(p).css(r);
var g=F.fit(g.width,g.height,d.canvas.width()-48,d.canvas.height()-48),m={left:g.left+16+g.width/3,top:g.top+16+g.height/3,width:g.width/3,height:g.height/3,margin:0,padding:0,border:"none",maxWidth:"none",maxHeight:"none",cursor:"pointer"};s.css(m);a(p).append(s);d.canvas.element.append(p);s.animate(g,t.animation.duration);a(p).animate({opacity:"show",left:n.left+16,top:n.top+16,width:n.width,height:n.height},t.animation.duration,function(){var f=a('<div class="captionContainer"></div>');f.css({position:"absolute",
left:8,top:8,width:n.width,height:n.height,overflow:"hidden",cursor:"pointer"});a(p).append(f);if(b.description){var c=parseInt(e.imageCaption.fontSize),c=c||d.defaultSettings.imageCaption.fontSize,g=a("<div><div>"+b.description.replace("\n","<br/>")+"</div></div>");g.css({position:"absolute",left:0,width:n.width,fontFamily:e.imageCaption.fontName,fontSize:c+"px",lineHeight:1.25,color:z(e.imageCaption.color),background:G(e.imageCaption.bgColor,e.imageCaption.bgAlpha/100)});f.append(g);"bottom"==e.imageCaption.position.toLowerCase()?
(g.css({bottom:"-33px",borderTop:"1px solid "+G(e.imageCaption.bgColor,(e.imageCaption.bgAlpha+10)/100)}),g.children("div").css({padding:"8px 10px 10px"}),g.animate({bottom:0})):(g.css({top:"-33px",borderBottom:"1px solid "+G(e.imageCaption.bgColor,(e.imageCaption.bgAlpha+10)/100)}),g.children("div").css({padding:"10px 10px 8px"}),g.animate({top:0}))}var h=a('<a class="altgallery-close" style="position:absolute; right:-15px; top:-13px; width:30px; height:30px; z-index:40; background:no-repeat center; cursor:pointer;"></a>');
h.css({backgroundImage:B(t.images.close)});h.click(function(){a(this).remove();g&&g.remove();r.opacity="hide";a(p).animate(r,t.animation.duration,function(){a(this).remove()});s.animate(m,t.animation.duration);a(".altgallery-frameMask",d.canvas.element).fadeOut(t.animation.duration)});a(p).append(h);f.click(function(){h.remove();g&&g.remove();r.opacity="hide";a(p).animate(r,t.animation.duration,function(){a(this).remove();d.next()});s.animate(m,t.animation.duration)});setTimeout(function(){a(p).append(K)},
500)})});y(b.source,function(){K.hide();d.canvas.element.find(".altgallery-preloader").remove();a(s).attr("src",b.source)})};S.prototype.prev=function(){this.currentItem--;0>this.currentItem&&(this.currentItem=this.items.length-1);this.open(this.getCurrentItem())};S.prototype.next=function(){this.currentItem++;this.currentItem>=this.items.length&&(this.currentItem=0);this.open(this.getCurrentItem())};S.prototype.placePage=function(){var a=this;a.hideControls();a.imagesContainer.animate({left:-(a.page*
a.pageWidth)},{duration:t.animation.duration,complete:function(){a.showControls()}})};S.prototype.prevPage=function(){this.page--;0>this.page&&(this.page=0);this.placePage()};S.prototype.nextPage=function(){this.page++;this.page>=this.pagesCount&&(this.page=this.pagesCount-1);this.placePage()};J.prototype.init=function(){var a=this.settings;this.initFrame();this.initNavigation();this.initCaption();this.initButtons();this.initThumbnails();this.initImage();switch(a.initialState.toLowerCase()){case "show thumbnails":this.showThumbnails();
break;default:case "load image":case "show image":this.showImage();break;case "start slideshow":this.showImage(),this.slideshowStart()}};J.prototype.initFrame=function(){var b=this.canvas,f=this.settings,d=this.frame=a("<div></div>"),c=b.width()-10,e=b.height()-10;d.css({position:"absolute",left:5,top:5,width:c,height:e,overflow:"hidden",background:z(f.buttons.bgColor)});A(d,{borderRadius:"5px",boxShadow:"0 0 4px rgba(0, 0, 0, 0.5)"});var s=this.content=a("<div></div>"),c=this.contentWidth=c-18,e=
this.contentHeight=e-43;s.css({position:"absolute",left:9,top:9,width:c,height:e,background:z(f.base.color)});A(s,{borderRadius:"4px"});d.append(s);f=this.preloader=a('<img alt="" />');f.attr("src",t.images.loader);f.css({position:"absolute",left:"50%",top:"50%",zIndex:100,margin:"-16px 0 0 -16px"});s.append(f);b.append(d)};J.prototype.initNavigation=function(){this.initPrevButton();this.initNextButton()};J.prototype.initPrevButton=function(){var b=this.settings,f=a("<div></div>");f.css({position:"absolute",
left:0,top:this.contentHeight/2-20,zIndex:10,width:21,height:60,background:z(b.buttons.bgColor),cursor:"default"});A(f,{borderRadius:"10px",boxShadow:"5px 0 15px rgba(0, 0, 0, 0.5)"});this.frame.append(f);prevOverlay=a("<div></div>");prevOverlay.css({position:"absolute",left:0,top:this.contentHeight/2-30,zIndex:10,width:9,height:80,background:z(b.buttons.bgColor),cursor:"default"});this.frame.append(prevOverlay);var d=this.prevButton=a('<div><div style="margin:25px 0 0 6px; width:9px; height:9px; background:url('+
t.images.folder+'cubic-buttons.png) no-repeat -8px -8px;"></div></div>');d.css({position:"absolute",left:0,top:this.contentHeight/2-20,zIndex:10,width:21,height:60,cursor:"pointer"});this.frame.append(d);var c;this.canvas.element.hover(function(){clearTimeout(c);f.stop().show().css({opacity:1}).animate({left:0});d.stop().animate({left:0,opacity:1})},function(){c=setTimeout(function(){f.stop().animate({left:-12},function(){f.fadeOut()});d.stop().animate({left:-12,opacity:0})},100)});this.hidePrevButton=
function(){f.css({visibility:"hidden"});prevOverlay.css({visibility:"hidden"});d.css({visibility:"hidden"})};this.showPrevButton=function(){f.css({visibility:"visible"});prevOverlay.css({visibility:"visible"});d.css({visibility:"visible"})}};J.prototype.initNextButton=function(){var b=this.settings,f=a("<div></div>");f.css({position:"absolute",right:0,top:this.contentHeight/2-20,zIndex:10,width:21,height:60,background:z(b.buttons.bgColor),cursor:"default"});A(f,{borderRadius:"10px",boxShadow:"-5px 0 15px rgba(0, 0, 0, 0.5)"});
this.frame.append(f);nextOverlay=a("<div></div>");nextOverlay.css({position:"absolute",right:0,top:this.contentHeight/2-30,zIndex:10,width:9,height:80,background:z(b.buttons.bgColor),cursor:"default"});this.frame.append(nextOverlay);var d=this.nextButton=a('<div><div style="margin:25px 0 0 6px; width:9px; height:9px; background:url('+t.images.folder+'cubic-buttons.png) no-repeat -8px -33px;"></div></div>');d.css({position:"absolute",right:0,top:this.contentHeight/2-20,zIndex:10,width:21,height:60,
cursor:"pointer"});this.frame.append(d);var c;this.canvas.element.hover(function(){clearTimeout(c);f.stop().show().css({opacity:1}).animate({right:0});d.stop().animate({right:0,opacity:1})},function(){c=setTimeout(function(){f.stop().animate({right:-12},function(){f.fadeOut()});d.stop().animate({right:-12,opacity:0})},100)});this.hideNextButton=function(){f.css({visibility:"hidden"});nextOverlay.css({visibility:"hidden"});d.css({visibility:"hidden"})};this.showNextButton=function(){f.css({visibility:"visible"});
nextOverlay.css({visibility:"visible"});d.css({visibility:"visible"})}};J.prototype.initCaption=function(){var b=this.caption=a("<div></div>");b.css({position:"absolute",left:10,bottom:10,width:this.contentWidth-60,height:"14px",lineHeight:"14px",overflow:"hidden",fontFamily:"Arial, Helvetica, sans-serif",fontSize:"11px",color:"#777"});this.frame.append(b)};J.prototype.initButtons=function(){var b=this,f=b.settings,d=function(){a(this).css({borderColor:"#fff #bbb #bbb #fff"});A(this,{boxShadow:"0 0 2px rgba(0, 0, 0, 0.2)"})},
c=function(){a(this).css({borderColor:"transparent"});A(this,{boxShadow:"none"})};if(f.buttons.showSlideshowButton){var e=b.slideshowButton=a("<div></div>");e.css({position:"absolute",right:f.buttons.showThumbnailsButton?29:5,bottom:5,width:23,height:23,background:B(t.images.folder+"cubic-buttons.png")+" no-repeat 0px -51px",border:"1px solid",borderColor:"transparent",cursor:"pointer"});A(e,{borderRadius:"3px 4px 3px 4px"});e.hover(d,c);e.click(function(){b.showImage();b.slideshowStart()});b.frame.append(e)}f.buttons.showThumbnailsButton&&
(f=b.showThumbnailsButton=a("<div></div>"),f.css({position:"absolute",right:5,bottom:5,width:23,height:23,background:B(t.images.folder+"cubic-buttons.png")+" no-repeat -1px -126px",border:"1px solid",borderColor:"transparent",cursor:"pointer"}).hide(),A(f,{borderRadius:"3px 4px 3px 4px"}),f.hover(d,c),f.click(function(){b.showThumbnails()}),b.frame.append(f),f=b.showImagesButton=a("<div></div>"),f.css({position:"absolute",right:5,bottom:5,width:23,height:23,background:B(t.images.folder+"cubic-buttons.png")+
" no-repeat -1px -101px",border:"1px solid",borderColor:"transparent",cursor:"pointer"}).hide(),A(f,{borderRadius:"3px 4px 3px 4px"}),f.hover(d,c),f.click(function(){b.showImage()}),b.frame.append(f))};J.prototype.initImage=function(){var b=this.imageWidth=this.contentWidth-2*this.settings.base.visibleFrame,f=this.imageHeight=this.contentHeight-2*this.settings.base.visibleFrame,d=this.imagesFrame=a("<div></div>");d.css({position:"absolute",left:this.settings.base.visibleFrame,top:this.settings.base.visibleFrame,
width:b,height:f,overflow:"hidden"}).hide();A(d,{borderRadius:"3px"});this.content.append(d);b=this.imagesContainer=a("<div></div>");b.css({position:"relative",left:0,top:0});d.append(b)};J.prototype.showImage=function(a){var b=this,d=function(){function a(){setTimeout(function(){b.drag=!1},100)}b.cleanup();b.thumbnailsFrame.hide();b.imagesFrame.show();b.showImagesButton.hide();b.showThumbnailsButton.show();b.showPrevButton();b.showNextButton();b.prevButton.unbind("click").click(function(){b.slideshowStop();
b.prev()});b.nextButton.unbind("click").click(function(){b.slideshowStop();b.next()});var d=0;b.imagesContainer.draggable({axis:"x",distance:30,start:function(a,c){b.drag=!0;d=c.position.left},stop:function(c,e){30<Math.abs(Math.abs(d)-Math.abs(e.position.left))?d<e.position.left?b.prev(t.animation.duration,a):b.next(t.animation.duration,a):b.place(t.animation.duration,a)}});b.imagesContainer.unbind("dblclick").dblclick(function(){b.showThumbnails()});R(b.imagesContainer)};!1!==a?(b.hidePrevButton(),
b.hideNextButton(),b.open(b.getCurrentItem(),d)):d()};J.prototype.initThumbnails=function(){function b(){c.cleanup()}var c=this,d=c.canvas,e=c.thumbnailsWidth=c.contentWidth-2*c.settings.base.visibleFrame,h=c.thumbnailsHeight=c.contentHeight-2*c.settings.base.visibleFrame,s=c.thumbnailsFrame=a("<div></div>");s.css({position:"absolute",left:c.settings.base.visibleFrame,top:c.settings.base.visibleFrame,width:e,height:h,overflow:"hidden"}).hide();A(s,{borderRadius:"3px"});c.content.append(s);var g=c.thumbnailsContainer=
a('<div class="thumbnailsContainer"></div>');g.css({position:"relative",left:0,top:0,width:e*Math.ceil(c.items.length/20),height:h});s.append(g);for(var p=Math.round((e-5)/5),n=Math.round((h-4)/4),r=Math.round((e-5*p)/10),m=Math.round((h-4*n)/8),h=0;h<c.items.length;h++)(function(v,h){y(h.thumb,function(s){var K=v%5,q=Math.floor(v%20/5),l=a('<a class="altgallery-thumbnail altgallery-thumbnail-'+v+'"></a>');u(l);l.attr({href:h.source}).css({display:"block",position:"absolute",left:K*p+Math.floor(v/
20)*e+1*K+r,top:q*n+1*q+m,width:p,height:n,overflow:"hidden",cursor:"pointer",zIndex:Math.floor(v%20/5)});A(l,{boxShadow:"0px 3px 3px rgba(0, 0, 0, 0.5)"});l.mouseover(function(){if(c.enableThumbnailsHover&&!c.drag){var m=0;0==K?m=p/8:4==K&&(m=-p/8);var r=0;0==q?r=n/8:3==q&&(r=-n/8);c.updateCaption(h.description||"Image "+(v+1)+" / "+c.items.length);c.cleanup();d.element.find(".altgallery-thumbnail").css({opacity:0.8});var l=a(this).clone();l.addClass("altgallery-clone");l.css({left:a(this).offset().left-
g.offset().left,top:a(this).offset().top-g.offset().top,zIndex:10,opacity:1});A(l,{boxShadow:"5px 15px 13px rgba(0, 0, 0, 0.7)"});g.append(l);var u=l.find("img");l.animate({width:1.25*p,height:1.25*n,marginLeft:-p/8+m,marginTop:-n/8+r},{duration:"fast",easing:"linear",step:function(){u.css(F.fill(s.width,s.height,l.width(),l.height()))}});l.click(function(){c.drag||(c.currentItem=v,l.unbind("mouseleave"),c.canvas.element.unbind("mouseleave",b),A(l,{boxShadow:"none"}),l.animate({left:c.currentPage*
e,top:0,width:c.imageWidth,height:c.imageHeight,marginLeft:0,marginTop:0},{duration:"normal",step:function(){u.css(F.fill(s.width,s.height,l.width(),l.height()))},complete:function(){c.showImage()}}));return!1});l.mouseleave(function(){c.cleanup();c.updateCaption(" ")})}});l.click(function(){c.drag||(c.currentItem=v,c.showImage());return!1});var t=a("<img />");t.attr({src:h.thumb}).css({display:"block",position:"absolute",border:"none"}).css(F.fill(s.width,s.height,p,n));l.append(t);g.append(l)})})(h,
c.items[h]);c.canvas.element.mouseleave(b);c.currentPage=0;c.preloader.hide()};J.prototype.showThumbnails=function(){function a(b,d){e.thumbnailsContainer.stop().animate({left:-e.currentPage*e.thumbnailsWidth},{duration:b||2*t.animation.duration,complete:function(){e.enableThumbnailsHover=!0;"function"==typeof d&&d()}})}function b(d,c){0<e.currentPage&&(e.currentPage--,e.enableThumbnailsHover=!1,e.cleanup());a(d,c);e.updateNavigation()}function d(b,d){e.currentPage<Math.ceil(e.items.length/20)-1&&
(e.currentPage++,e.enableThumbnailsHover=!1,e.cleanup());a(b,d);e.updateNavigation()}function c(){setTimeout(function(){e.drag=!1},100)}var e=this;e.slideshow&&e.slideshowStop();e.updateCaption(" ");e.imagesFrame.hide();e.thumbnailsFrame.show();e.showThumbnailsButton.hide();e.showImagesButton.show();e.prevButton.unbind("click").click(function(){b()});e.nextButton.unbind("click").click(function(){d()});e.updateNavigation();var h=0;e.thumbnailsContainer.draggable({axis:"x",distance:30,start:function(a,
b){e.drag=!0;h=b.position.left;e.cleanup()},stop:function(e,p){30<Math.abs(Math.abs(h)-Math.abs(p.position.left))?h<p.position.left?b(t.animation.duration,c):d(t.animation.duration,c):a(t.animation.duration,c)}});R(e.thumbnailsContainer)};J.prototype.updateNavigation=function(){var a=Math.ceil(this.items.length/20);0<this.currentPage?this.showPrevButton():this.hidePrevButton();this.currentPage<a-1?this.showNextButton():this.hideNextButton()};J.prototype.updateCaption=function(a){(a=a||this.getCurrentItem().description)?
this.caption.html(a.replace("\n","<br/>")):this.caption.html("Image "+(this.currentItem+1)+" / "+this.items.length)};J.prototype.loadImage=function(b,f){var d=this,b=b%d.items.length;d.items[b]!==c&&y(d.items[b].source,function(c){var e="altgallery-image-"+b;if(!d.imagesContainer.find("."+e).size()){e=a('<div class="'+e+'"></div>');e.css({position:"absolute",left:d.imageWidth*b,top:0,width:d.imageWidth,height:d.imageHeight,overflow:"hidden"});var h=a('<img style="position:absolute;" />');h.attr("src",
c.src);h.css(F.fill(c.width,c.height,d.imageWidth,d.imageHeight));e.append(h);d.imagesContainer.append(e)}"function"==typeof f&&f(c)})};J.prototype.open=function(b,c){var d=this,e="altgallery-image-"+d.currentItem;d.imagesContainer.find("."+e).size()?"function"==typeof c&&c():(d.preloader.show(),y(b.source,function(b){var k=a('<div class="'+e+'"></div>');k.css({position:"absolute",left:d.imageWidth*d.currentItem,top:0,width:d.imageWidth,height:d.imageHeight,overflow:"hidden"});var g=a('<img style="position:absolute;" />');
g.attr("src",b.src);g.css(F.fill(b.width,b.height,d.imageWidth,d.imageHeight));k.append(g);d.imagesContainer.append(k);d.preloader.hide();"function"==typeof c&&c()}));d.imagesContainer.stop().css({left:-d.imageWidth*d.currentItem});d.updateCaption();d.loadImage(b.id+1);d.loadImage(b.id-1)};J.prototype.place=function(a,b){this.imagesContainer.stop().animate({left:-this.imageWidth*this.currentItem},{duration:a||2*t.animation.duration,complete:function(){"function"==typeof b&&b()}})};J.prototype.prev=
function(a,b){var d=this;if(0<d.currentItem){d.currentItem--;var c=setTimeout(function(){d.preloader.show()},500);d.loadImage(d.currentItem,function(){clearTimeout(c);d.preloader.hide();d.place(a,b);d.updateCaption();d.loadImage(d.currentItem-1)})}else d.currentItem=d.items.length-1,d.showImage()};J.prototype.next=function(a,b){var d=this;if(d.currentItem<d.items.length-1){d.currentItem++;var c=setTimeout(function(){d.preloader.show()},500);d.loadImage(d.currentItem,function(){clearTimeout(c);d.preloader.hide();
d.place(a,function(){d.slideshow&&d.slideshowStart();"function"==typeof b&&b()});d.updateCaption();d.loadImage(d.currentItem+1)})}else d.currentItem=0,d.showImage(),d.slideshow&&d.slideshowStart()};J.prototype.slideshowStart=function(){var a=this;a.showImage(!1);clearTimeout(a.slideshowTimer);a.slideshow=!0;a.slideshowButton.css({background:B(t.images.folder+"cubic-buttons.png")+" no-repeat 0px -76px"});a.slideshowButton.unbind("click").click(function(){a.slideshowStop()});a.slideshowTimer=setTimeout(function(){a.next()},
1E3*a.settings.slideshowDelay)};J.prototype.slideshowStop=function(){var a=this;a.slideshow=!1;clearTimeout(a.slideshowTimer);a.slideshowButton.css({background:B(t.images.folder+"cubic-buttons.png")+" no-repeat 0px -51px"});a.slideshowButton.unbind("click").click(function(){a.slideshowStart()})};J.prototype.cleanup=function(){this.canvas.element.find(".altgallery-clone").remove();a(this.canvas.element).find(".altgallery-thumbnail").css({opacity:1})};V.prototype.showScrollbar=function(){var b=this,
c=this.settings,d=this.canvas,e=a('<div class="altgallery-scrollbar"></div>'),h=Math.round(0.8*d.width())-36;e.css({position:"absolute",zIndex:1E3,left:(d.width()-h)/2,bottom:5,width:h+36,height:17,background:G(c.scrollbar.bgColor,c.scrollbar.bgAlpha/100),"-moz-border-radius":8,"-webkit-border-radius":8,borderRadius:8});if(a.browser.msie&&9>a.browser.version){var s=sprintf("%02x%s",255*c.scrollbar.bgAlpha/100,z(c.scrollbar.bgColor).replace("#",""));e.css({filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+
s+",endColorstr=#"+s+")"})}var g=a('<div class="altgallery-scrollbar-handle"></div>'),p=h/b.items.length;g.css({position:"absolute",left:Math.round(b.currentItem*p),top:-10,width:Math.floor(p),height:30});var n=a("<div />");n.css({position:"relative",top:10,height:13,background:z(c.scrollbar.handleColor),opacity:c.scrollbar.handleAlpha/100,cursor:"ew-resize"});n.hover(function(){n.css({opacity:1})},function(){n.css({opacity:c.scrollbar.handleAlpha/100})});g.append(n);g.draggable({axis:"x",containment:"parent",
stop:function(a,d){b.currentItem=Math.floor(d.position.left/h*b.items.length);g.css({left:Math.round(b.currentItem*p)});b.animate()}});s=a("<div></div>");s.css({position:"relative",top:2,height:13,margin:"0 18px"});s.click(function(d){d=d.pageX-a(this).offset().left;b.currentItem=Math.floor(d/h*b.items.length);g.css({left:Math.round(b.currentItem*p)});b.animate()});var r={position:"absolute",top:2,width:16,height:16,fontFamily:"Arial, Helvetica, sans-serif",fontSize:"10px",lineHeight:"14px",textAlign:"center",
color:z(c.scrollbar.arrowsColor),opacity:c.scrollbar.arrowsAlpha/100,cursor:"pointer"},m=a("<div>&#9668;</div>");m.css(r);m.css({left:1});m.click(function(){b.prev()});e.append(m);m=a("<div>&#9658;</div>");m.css(r);m.css({right:1});m.click(function(){b.next()});e.append(m);s.append(g);e.append(s);d.element.append(e);R(g)};V.prototype.updateScrollbar=function(){var a=this.canvas,b=(Math.round(0.8*a.width())-36)/this.items.length;a.element.find(".altgallery-scrollbar-handle").css({left:Math.round(this.currentItem*
b)})};V.prototype.getItemStyle=function(a,b){var d=this.settings,c=this.canvas,e,h;e=this.getItemX(b);h=this.getItemZ(b);var g;g=Math.abs(e);var p=F.fit(a.width,a.height,d.maxImageWidth*(1>g?1:2>g?0.55:3>g?0.5:0.6-0.05*g),c.height()-60);return{zIndex:10*h,left:(c.width()-p.width)/2+e*c.width()/8+(e?e/g*d.maxImageWidth/3:0),top:(c.height()-p.height)/2-30,width:p.width,height:p.height,opacity:e?0.8:1,transform:{rotateY:-(e?e/g:0)*d.imageAngle+"deg"}}};V.prototype.render=function(){var b=this,c=this.settings,
d=this.canvas,e=this.items,h=!l();b.scene.empty();b.scene.css({"-webkit-perspective":400,"-moz-perspective":400,perspective:400});var s,g,p,n,r,m=0;n=b.currentItem;r=2*Math.max(n,e.length-n);for(g=1;g<=r;g++)s=n+(g%2?parseInt(g/2):-parseInt(g/2)),0<=s&&s<e.length&&function(g){setTimeout(function(){p=b.getItemX(g);y(e[g].source,function(n){var m=b.getItemStyle(n,g),r=a('<a class="altgallery-item-'+g+'"></a>');e[g].link&&(r.attr("href",e[g].link),e[g].target&&r.attr("target",e[g].target));r.css({display:"block",
position:"absolute",zIndex:m.zIndex,left:m.left,top:m.top,width:m.width,height:m.height,overflow:"visible",background:"#000",cursor:"pointer",outline:"none"});h&&N(r,{rotateY:m.transform.rotateY});var s=a('<img src="" alt="" />');s.attr("src",n.src);u(s);s.css({display:"block",width:m.width,height:m.height,opacity:m.opacity});r.append(s);if(b.showReflections){n=s.clone();n.css({position:"absolute",opacity:c.reflectionAlpha/100,"-moz-transform":"scaleY(-1)","-webkit-transform":"scaleY(-1)","-o-transform":"scaleY(-1)",
"-ms-transform":"scaleY(-1)",transform:"scaleY(-1)",zIndex:1});var q=a('<div class="altgallery-overlay"></div>');q.css({position:"absolute",top:m.height,width:m.width,height:m.height,background:d.element.css("backgroundColor"),zIndex:0});var l=a('<div class="altgallery-overlay"></div>');l.css({position:"absolute",top:m.height,width:m.width,height:m.height,zIndex:2});var m=d.element.css("backgroundColor"),t=[G(m,0),G(m,0.5),G(m,1)];a.browser.mozilla?l.css({background:"-moz-linear-gradient(top, "+t[0]+
" 0%, "+t[1]+" 15%, "+t[2]+" 50%)"}):a.browser.webkit?l.css({background:"-webkit-linear-gradient(top, "+t[0]+" 0%, "+t[1]+" 15%, "+t[2]+" 50%)"}):a.browser.opera?l.css({background:"-o-linear-gradient(top, "+t[0]+" 0%, "+t[1]+" 15%, "+t[2]+" 50%)"}):a.browser.msie?(m=z(m).replace("#",""),l.css({filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00"+m+",endColorstr=#ff"+m+",GradientType=0)"})):l.css({background:"linear-gradient(top, "+t[0]+" 0%, "+t[1]+" 15%, "+t[2]+" 50%)"});r.append(n);
r.append(q);r.append(l)}r.click(function(){b.drag||(b.currentItem=g,0>b.currentItem?b.currentItem=0:b.currentItem>=e.length&&(b.currentItem=e.length-1),b.animate());return!1}).hover(function(){s.css({opacity:1})},function(){s.css({opacity:p?0.8:1})});g==b.currentItem&&r.unbind("click").click(function(){if(b.drag)return!1});b.scene.append(r)})},100*m++)}(s);c.useScrollBar&&b.showScrollbar();a.browser.mozilla&&b.showReflections&&b.animate()};V.prototype.animate=function(){function a(k,g,p){y(c[k].source,
function(a){function n(a){function c(b){return r[b]+(s[b]-r[b])*a/1E4}m.css({left:c("left"),top:c("top"),zIndex:parseInt(c("zIndex")),width:c("width"),height:c("height")});h.css({width:c("width"),height:c("height")});b.showReflections&&l.css({top:c("height"),width:c("width"),height:c("height")});e&&N(m,{rotateY:parseFloat(r.transform.rotateY)+(parseFloat(s.transform.rotateY)-parseFloat(r.transform.rotateY))*a/1E4+"deg"})}var m=b.scene.find(".altgallery-item-"+k),h=m.find("img"),r={left:parseInt(m.css("left")),
top:parseInt(m.css("top")),zIndex:parseInt(m.css("z-index")),width:m.width(),height:m.height(),opacity:m.find("img").css("opacity"),transform:N(m)},s=b.getItemStyle(a,k);p||m.show();m.unbind("click").click(function(){b.drag||(b.currentItem=k,0>b.currentItem?b.currentItem=0:b.currentItem>=c.length&&(b.currentItem=c.length-1),b.animate());return!1}).unbind("hover").hover(function(){h.first().css({opacity:1})},function(){h.first().css({opacity:g?0.8:1})});h.first().css({opacity:s.opacity});var l=m.find(".altgallery-overlay");
m.stop().prop("animate",0);p?n(1E4):m.animate({animate:1E4},{duration:500*d.flipDuration,easing:"linear",step:function(a){n(a)},complete:function(){m.prop("animate",0);k==b.currentItem&&m.unbind("click").click(function(){if(b.drag)return!1})}})})}var b=this,d=this.settings,c=this.items,e=!l(),h,g,p,n,r;n=b.currentItem;r=2*Math.max(n,c.length-n);for(g=1;g<=r;g++)if(h=n+(g%2?parseInt(g/2):-parseInt(g/2)),0<=h&&h<c.length){var m=Math.abs(b.currentItem-h);p=b.getItemX(h);4>m?a(h,p):(b.scene.find(".altgallery-item-"+
h).hide(),a(h,p,!0))}d.useScrollBar&&b.updateScrollbar()};V.prototype.open=function(a){this.currentItem=a.id;this.animate()};V.prototype.prev=function(a){a=this.currentItem-(a||1);0>a&&(a=0);this.currentItem!=a&&(this.currentItem=a,this.animate())};V.prototype.next=function(a){a=this.currentItem+(a||1);a>=this.items.length&&(a=this.items.length-1);this.currentItem!=a&&(this.currentItem=a,this.animate())};W.prototype.init=function(){var b=this,c=this.settings,d=this.canvas;b.imageWidth=c.image.width||
Math.round(0.75*d.width());b.imageHeight=c.image.height||Math.round(0.67*d.height());b.stack=[];for(var h=0;h<c.visibleImages;h++){var l=a("<div />");l.css({position:"absolute",left:Math.floor((d.width()-b.imageWidth-20)/2),top:Math.floor((d.height()-b.imageHeight-57)/2),width:b.imageWidth+20,height:b.imageHeight+57,background:z(c.frameColor),zIndex:c.visibleImages-h});c.useShadow&&A(l,{boxShadow:"0 0 10px rgba(0,0,0,0.7)"});h&&N(l,{rotate:(e(10*-c.maxAngle,10*c.maxAngle)/10).toString()+"deg"});var s=
a('<div class="altgallery-imgFrame" />');s.css({position:"absolute",left:10,top:10,width:b.imageWidth,height:b.imageHeight,overflow:"hidden",background:"#999",cursor:"pointer"});s.click(function(){b.next()});l.append(s);s=a('<div class="altgallery-caption" />');s.css({position:"absolute",left:10,top:b.imageHeight+12,width:b.imageWidth,height:42,overflow:"hidden",textAlign:"center",fontFamily:c.caption.fontName,fontSize:"11px",lineHeight:"14px",color:z(c.caption.color)});l.append(s);b.stack.push(l);
d.append(b.stack[h])}b.open(b.getCurrentItem())};W.prototype.preload=function(b,c){var d=this,e=this.settings;y(b.source,function(b){var k=c.find(".altgallery-imgFrame"),g=a("<img />");g.attr({src:b.src});g.css({position:"absolute"});var p="fit"==e.imageScaleMode.toLowerCase()?F.fit:F.fill;g.css(p(b.width,b.height,d.imageWidth,d.imageHeight));k.append(g)})};W.prototype.open=function(b){var c=this,d=this.settings,e=this.stack[0];c.currentItem=b.id;var l=e.find(".altgallery-caption");l.empty();var s=
a("<div />");s.css({display:"inline-block"});d.usePhotoNumbers&&s.append(b.id+1+"/"+c.items.length+" ");s.append(b.description);l.append(s);var g=s.height(),l=Math.floor((l.height()-g)/2);14<g&&s.css({textAlign:"left"});s.css({marginTop:0<l?l:0});var p=parseFloat(N(e).rotate);0!=p&&e.animate({animate:100},{duration:200,easing:"linear",step:function(a){N(e,{rotate:(p-p*a/100).toString()+"deg"})},complete:function(){e.prop({animate:0})}});var n=e.find(".altgallery-imgFrame");n.empty();n.css({backgroundImage:B(t.images.loader),
backgroundPosition:"center",backgroundRepeat:"no-repeat"});y(b.source,function(g){var m=a("<img />");m.attr({src:g.src});m.css({position:"absolute"});var p="fit"==d.imageScaleMode.toLowerCase()?F.fit:F.fill;m.css(p(g.width,g.height,c.imageWidth,c.imageHeight));n.css({backgroundImage:""}).append(m);var g={position:"absolute",padding:"3px 5px",fontFamily:"Arial, Helvetica, sans-serif",fontSize:"10px",color:"#fff",background:G("#000000",0.7),cursor:"pointer"},l=a('<div class="altgallery-back" />');l.css(g).css({left:15,
top:15});A(l,{borderRadius:"5px"});l.html(d.translation.back);l.click(function(){c.prev()});e.append(l);e.hover(function(){l.stop().fadeIn("fast")},function(){l.stop().fadeOut("fast")});if(b.link){var s=a('<div class="altgallery-link" />');s.css(g).css({right:15,top:15});A(s,{borderRadius:"5px"});s.html(d.translation.gotoLink);s.click(function(){h(b)});e.append(s);e.hover(function(){s.stop().fadeIn("fast")},function(){s.stop().fadeOut("fast")})}for(g=1;g<d.visibleImages-1;g++)(function(a){setTimeout(function(){c.preload(c.getNextItem(a),
c.stack[a])},500*(a-1))})(g)})};W.prototype.prev=function(){var b=this,c=this.settings,d=this.stack[0],h=d.position();d.find(".altgallery-back, .altgallery-link").remove();var l=e(10*-c.maxAngle,10*c.maxAngle)/10;d.animate({animate:100},{duration:200,easing:"linear",step:function(b){N(a(this),{rotate:(l*b/100).toString()+"deg"})},complete:function(){a(this).prop({animate:0})}});d=this.stack[this.stack.length-1];b.stack.pop();b.stack.unshift(d);var s=e(b.imageWidth,1.5*b.imageWidth),g=e(b.imageHeight/
2,b.imageHeight),p=e(10,60);d.animate({animate:1E3},{duration:0.8*t.animation.duration,easing:"easeOutQuint",step:function(a){d.css({left:h.left+s*a/1E3,top:h.top-g*a/1E3});N(d,{rotate:(p*a/1E3).toString()+"deg"})},complete:function(){for(var a=0;a<b.stack.length;a++)b.stack[a].css({zIndex:b.stack.length-a});d.animate({animate:0},{duration:0.8*t.animation.duration,easing:"easeOutQuint",step:function(a){d.css({left:h.left+s*a/1E3,top:h.top-g*a/1E3});N(d,{rotate:(0+p*a/1E3).toString()+"deg"})}})}});
b.currentItem--;0>b.currentItem&&(b.currentItem=b.items.length-1);b.open(b.getCurrentItem())};W.prototype.next=function(){var a=this,b=this.settings,c=this.stack[0],h=c.position();c.find(".altgallery-back, .altgallery-link").remove();a.stack.shift();a.stack.push(c);var l=e(a.imageWidth,1.5*a.imageWidth),s=e(a.imageHeight/2,a.imageHeight),g=e(10,60),p=e(10*-b.maxAngle,10*b.maxAngle)/10;c.animate({animate:1E3},{duration:0.8*t.animation.duration,easing:"easeOutQuint",step:function(a){c.css({left:h.left+
l*a/1E3,top:h.top-s*a/1E3});N(c,{rotate:(g*a/1E3).toString()+"deg"})},complete:function(){for(var b=0;b<a.stack.length;b++)a.stack[b].css({zIndex:a.stack.length-b});c.animate({animate:0},{duration:0.8*t.animation.duration,easing:"easeOutQuint",step:function(a){c.css({left:h.left+l*a/1E3,top:h.top-s*a/1E3});N(c,{rotate:(p+g*a/1E3).toString()+"deg"})}})}});a.currentItem++;a.currentItem>=a.items.length&&(a.currentItem=0);a.open(a.getCurrentItem())};W.prototype.slideshowStart=function(){var a=this,b=
a.settings;if(!a.slideshow){var c=function(){a.slideshowTimeoutId=setTimeout(function(){a.next(c)},1E3*b.slideshow.delay+2E3)};a.slideshow=!0;setTimeout(function(){a.next(c)},1E3*b.slideshow.delay)}};W.prototype.slideshowStop=function(){this.slideshow&&(this.slideshow=!1,clearTimeout(this.slideshowTimeoutId))};O.prototype.render=function(){var b=this,c=this.settings,d=this.canvas;d.element.css({fontFamily:c.fontName,fontSize:parseInt(c.fontSize)+"px",lineHeight:1.2*parseInt(c.fontSize)+"px"});var e=
a('<div class="altgallery-imageFrame"></div>');e.css({width:d.width()-2*c.frameSize,height:d.height()-2*c.frameSize,padding:c.frameSize,background:z(c.frameColor),borderRadius:c.cornerRadius/2});var h=a('<div class="altgallery-image"></div>');h.css({position:"relative",width:d.width()-2*c.frameSize,height:d.height()-2*c.frameSize,overflow:"hidden",background:z(c.backgroundColor),borderRadius:c.cornerRadius/2-c.frameSize/4,cursor:"pointer"});var l=a('<img src="" alt="" />');u(h.children("img"));l.css({position:"absolute"});
e.click(function(){b.next()});h.append(l);e.append(h);d.element.append(e);b.open(b.getCurrentItem());switch(c.initialState.toLowerCase()){default:case "show albums":this.showAlbums();break;case "show thumbnails":this.showThumbnails();case "load image":case "start slideshow":}};O.prototype.showAlbums=function(){var b=this,c=this.canvas,d=this.settings;if(!c.element.find(".altgallery-albums").size()){var e=function(){var a=m*n+1,c=m*n+n;c>b.albums.length&&(c=b.albums.length);q.html(a+"-"+c+" "+d.translation.Of+
" "+b.albums.length);0>=m?(w.css({opacity:0.3,cursor:"default"}),w.unbind("click").click(function(){return!1})):(w.css({opacity:1,cursor:"pointer"}),w.unbind("click").click(C));m>=r-1?(z.css({opacity:0.3,cursor:"default"}),z.unbind("click").click(function(){return!1})):(z.css({opacity:1,cursor:"pointer"}),z.unbind("click").click(A))};b.hideThumbnails();b.hideButtons();b.hideCaption();b.hideNavigation();var h=a('<div class="altgallery-albums"></div>'),l=c.width()-2*d.frameSize,g=d.iconHeight+115;h.css({position:"absolute",
left:d.frameSize,top:(c.height()-g)/2,width:c.width()-2*d.frameSize,height:g,overflow:"hidden",color:"#fff",border:"1px #000",borderStyle:"solid none",zIndex:2});var p=a('<div class="altgallery-albums-overlay"></div>');p.css({position:"absolute",left:d.frameSize,top:(c.height()-g)/2,width:c.width()-2*d.frameSize,height:g+1,background:"#000",opacity:d.panelBackgroundAlpha/100,zIndex:1});c.element.append(p);g=a("<div></div>");g.css({position:"absolute",top:10,right:20});p=a('<a class="altgallery-close" href="#">'+
d.translation.Close+"</a>");p.css({marginRight:0,color:"#fff",fontWeight:"bold",textDecoration:"none",textShadow:"0 1px 0 rgba(0, 0, 0, 0.5)",background:"no-repeat left center",backgroundImage:B(t.images.folder+"zen-close.png"),paddingLeft:12});p.click(function(){b.hideAlbums();b.showButtons();b.showCaption();b.showNavigation();return!1});g.append(p);h.append(g);var n=Math.floor((l-20)/(d.iconWidth+d.iconPadding)),n=n>b.albums.length?b.albums.length:n,g=(d.iconWidth+d.iconPadding)*n-d.iconPadding,
p=(d.iconWidth+d.iconPadding)*b.albums.length-d.iconPadding,r=Math.ceil(b.albums.length/n),m=0,v=a("<div>"+d.translation.Albums+"</div>");v.css({position:"absolute",left:9,top:0,padding:10,paddingLeft:25,textShadow:"-1px 1px 0 rgba(0, 0, 0, 0.5)",fontWeight:"bold",background:"no-repeat left center",backgroundImage:B(t.images.folder+"zen-albums.png")});h.append(v);var q=a("<span></span>");q.css({marginLeft:"1em",fontWeight:"normal"});v.append(q);v=a("<div></div>");v.css({position:"absolute",left:(l-
g)/2-4,top:42,width:g+4,height:d.iconHeight+70,overflow:"hidden"});var x=a("<div></div>");x.css({position:"relative",left:0,width:p});v.append(x);l=a("<div></div>");l.css({position:"absolute",right:4,bottom:3,height:20,opacity:0.9});var w=a('<a href="#" style="float:left;"></a>');w.css({display:"block",cssFloat:"left",width:16,height:16,marginRight:3,background:"no-repeat center",backgroundImage:B(t.images.folder+"zen-prev.png")});var C=function(){0<m&&m--;var a=(d.iconWidth+d.iconPadding)*n*m;x.stop().animate({left:-a},
2*t.animation.duration,"easeOutQuart");e();return!1};w.click(C);l.append(w);h.append(v);var z=a('<a href="#" style="float:left;"></a>');z.css({display:"block",cssFloat:"left",width:16,height:16,marginRight:3,background:"no-repeat center",backgroundImage:B(t.images.folder+"zen-next.png")});var A=function(){m<r-1&&m++;var a=(d.iconWidth+d.iconPadding)*n*m;x.stop().animate({left:-a},2*t.animation.duration,"easeOutQuart");e();return!1};z.click(A);l.append(z);h.append(l);e();for(var D,l=0;l<b.albums.length;l++)(function(c,
e){var f=a("<div></div>");f.css({position:"absolute",left:(d.iconWidth+d.iconPadding)*e,top:0,width:d.iconWidth+d.iconPadding+6,overflow:"hidden",textShadow:"0 1px 0 rgba(0, 0, 0, 0.5)"});var g=a('<div class="altgallery-thumbnail"></div>');g.css({position:"relative",width:d.iconWidth-2,height:d.iconHeight-2,overflow:"hidden",border:"1px solid",borderColor:b.currentAlbum==e?"#000":"#fff",margin:"2px",cursor:"pointer"});y(c.items[0].thumb,function(b){var c=a('<img src="" alt="" />');c.attr("src",b.src);
u(c);c.css({position:"absolute"});c.css(F.fill(b.width,b.height,d.iconWidth-2,d.iconHeight-2));g.append(c)},50*e);f.append(g);f.append('<div style="padding:7px 2px 2px; font-weight:bold;">'+(c.description||"Album "+(e+1))+"<div>");f.append('<div style="padding:1px 2px;">'+c.items.length+" "+(1==c.items.length?d.translation.Image:d.translation.Images)+"<div>");f.hover(function(){x.find(".altgallery-thumbnail").css({borderWidth:"1px",margin:"2px"});g.css({borderWidth:"3px",margin:"0px"})},function(){g.css({borderWidth:"1px",
margin:"2px"})}).click(function(){D||(b.currentAlbum!=e&&(b.currentItem=-1),b.currentAlbum=e,b.showThumbnails())});x.append(f)})(b.albums[l],l);c.element.append(h);1<r&&(x.draggable({axis:"x",start:function(){D=!0},stop:function(a,b){b.position.left>b.originalPosition.left?C():A();setTimeout(function(){D=!1},100)}}),R(h))}};O.prototype.hideAlbums=function(){this.canvas.element.find(".altgallery-albums, .altgallery-albums-overlay").remove()};O.prototype.showThumbnails=function(){var b=this,c=this.canvas,
d=this.settings,e=this.getCurrentAlbum();if(!c.element.find(".altgallery-images").size()){var h=function(){var a=v*r+1,b=v*r+r;b>e.items.length&&(b=e.items.length);x.html(a+"-"+b+" "+d.translation.Of+" "+e.items.length);0>=v?(C.css({opacity:0.3,cursor:"default"}),C.unbind("click").click(function(){return!1})):(C.css({opacity:1,cursor:"pointer"}),C.unbind("click").click(z));v>=m-1?(A.css({opacity:0.3,cursor:"default"}),A.unbind("click").click(function(){return!1})):(A.css({opacity:1,cursor:"pointer"}),
A.unbind("click").click(D))};b.hideAlbums();b.hideButtons();b.hideCaption();b.hideNavigation();var l=a('<div class="altgallery-images"></div>'),g=c.width()-2*d.frameSize,p=d.iconHeight+75;l.css({position:"absolute",left:d.frameSize,top:(c.height()-p)/2,width:c.width()-2*d.frameSize,height:p,overflow:"hidden",color:"#fff",border:"1px #000",borderStyle:"solid none",zIndex:2});var n=a('<div class="altgallery-images-overlay"></div>');n.css({position:"absolute",left:d.frameSize,top:(c.height()-p)/2,width:c.width()-
2*d.frameSize,height:p+1,background:"#000",opacity:d.panelBackgroundAlpha/100,zIndex:1});c.element.append(n);p=a("<div></div>");p.css({position:"absolute",top:10,right:20});1<b.albums.length&&(n=a('<a class="altgallery-back" href="#">'+d.translation.BackToAlbums+"</a>"),n.css({marginRight:"1.5em",color:"#fff",fontWeight:"bold",textDecoration:"none",textShadow:"0 1px 0 rgba(0, 0, 0, 0.5)",background:"no-repeat left center",backgroundImage:B(t.images.folder+"zen-backToAlbums.png"),paddingLeft:14}),
n.click(function(){b.showAlbums();return!1}),p.append(n));n=a('<a class="altgallery-close" href="#">'+d.translation.Close+"</a>");n.css({marginRight:0,color:"#fff",fontWeight:"bold",textDecoration:"none",textShadow:"0 1px 0 rgba(0, 0, 0, 0.5)",background:"no-repeat left center",backgroundImage:B(t.images.folder+"zen-close.png"),paddingLeft:12});n.click(function(){b.hideThumbnails();b.showButtons();b.showCaption();b.showNavigation();return!1});p.append(n);l.append(p);var r=Math.floor((g-20)/(d.iconWidth+
d.iconPadding)),r=r>e.items.length?e.items.length:r,p=(d.iconWidth+d.iconPadding)*r-d.iconPadding,n=(d.iconWidth+d.iconPadding)*e.items.length-d.iconPadding,m=Math.ceil(e.items.length/r),v=0,q=a("<div>"+d.translation.Images+"</div>");q.css({position:"absolute",left:9,top:0,padding:10,paddingLeft:25,textShadow:"-1px 1px 0 rgba(0, 0, 0, 0.5)",fontWeight:"bold",background:"no-repeat left center",backgroundImage:B(t.images.folder+"zen-thumbnails.png")});l.append(q);var x=a("<span></span>");x.css({marginLeft:"1em",
fontWeight:"normal"});q.append(x);q=a("<div></div>");q.css({position:"absolute",left:(g-p)/2-4,top:42,width:p+4,height:d.iconHeight+4,overflow:"hidden"});var w=a("<div></div>");w.css({position:"relative",left:0,width:n});q.append(w);l.append(q);g=a("<div></div>");g.css({position:"absolute",right:4,bottom:3,height:20,opacity:0.9});var C=a('<a href="#" style="float:left;"></a>');C.css({display:"block",cssFloat:"left",width:16,height:16,marginRight:3,background:"no-repeat center",backgroundImage:B(t.images.folder+
"zen-prev.png")});var z=function(){0<v&&v--;var a=(d.iconWidth+d.iconPadding)*r*v;w.stop().animate({left:-a},2*t.animation.duration,"easeOutQuart");h();return!1};C.click(z);g.append(C);var A=a('<a href="#" style="float:left;"></a>');A.css({display:"block",cssFloat:"left",width:16,height:16,marginRight:3,background:"no-repeat center",backgroundImage:B(t.images.folder+"zen-next.png")});var D=function(){v<m-1&&v++;var a=(d.iconWidth+d.iconPadding)*r*v;w.stop().animate({left:-a},2*t.animation.duration,
"easeOutQuart");h();return!1};A.click(D);g.append(A);l.append(g);h();for(var G=!1,g=0;g<e.items.length;g++)(function(c,e){var f=a("<div></div>");f.css({position:"absolute",left:(d.iconWidth+d.iconPadding)*e,top:0,width:d.iconWidth+d.iconPadding+6,overflow:"hidden",textShadow:"0 1px 0 rgba(0, 0, 0, 0.5)"});var g=a('<div class="altgallery-thumbnail"></div>');g.css({position:"relative",width:d.iconWidth-2,height:d.iconHeight-2,overflow:"hidden",border:"1px solid",borderColor:b.currentItem==e?"#000":
"#fff",margin:"2px",cursor:"pointer"});y(c.thumb,function(b){var c=a('<img src="" alt="" />');c.attr("src",b.src);u(c);c.css({position:"absolute"});c.css(F.fill(b.width,b.height,d.iconWidth-2,d.iconHeight-2));g.append(c)},50*e);f.append(g);f.hover(function(){w.find(".altgallery-thumbnail").css({borderWidth:"1px",margin:"2px"});g.css({borderWidth:"3px",margin:"0px"})},function(){g.css({borderWidth:"1px",margin:"2px"})}).click(function(){G||(b.currentItem=e,b.open(b.getCurrentItem()))});w.append(f)})(e.items[g],
g);c.element.append(l);1<m&&(w.draggable({axis:"x",start:function(){G=!0},stop:function(a,b){b.position.left>b.originalPosition.left?z():D();setTimeout(function(){G=!1},100)}}),R(l))}};O.prototype.hideThumbnails=function(){this.canvas.element.find(".altgallery-images, .altgallery-images-overlay").remove()};O.prototype.showButtons=function(){var b=this;if("never"!=b.settings.showButtons.toLowerCase()&&(b.settings.showAlbumsButton||b.settings.showThumbnailsButton)&&!b.canvas.element.find(".altgallery-buttons").size()){var c=
a('<div class="altgallery-buttons"></div>');c.css({position:"absolute",right:b.settings.frameSize,top:25+b.settings.frameSize,padding:"3px 3px 3px 1px",background:"rgba(0, 0, 0, "+b.settings.buttonsBackgroundAlpha/100+")",border:"1px solid rgba(0, 0, 0, 0.8)",borderRight:"none","-moz-border-top-left-radius":"3px","-moz-border-bottom-left-radius":"3px","-webkit-border-top-left-radius":"3px","-webkit-border-bottom-left-radius":"3px","border-top-left-radius":"3px","border-bottom-left-radius":"3px"});
if(a.browser.msie&&9>a.browser.version){var d=Math.round(255*parseInt(b.settings.buttonsBackgroundAlpha)/100),d=16>d?"0"+d.toString(16):d.toString(16);c.css({borderColor:"#000",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+d+"000000,endColorstr=#"+d+"000000)"})}b.settings.showAlbumsButton&&1<b.albums.length&&(d=a('<a href="#" style="float:left;"></a>'),d.css({display:"block",cssFloat:"left",margin:"0 2px",width:16,height:16,background:"no-repeat center",backgroundImage:B(t.images.folder+
"zen-albums.png"),opacity:0.8}),d.click(function(){b.showAlbums();return!1}),c.append(d));b.settings.showThumbnailsButton&&(d=a('<a href="#" style="float:left;"></a>'),d.css({display:"block",cssFloat:"left",margin:"0 2px",width:16,height:16,background:"no-repeat center",backgroundImage:B(t.images.folder+"zen-thumbnails.png"),opacity:0.8}),d.click(function(){b.showThumbnails();return!1}),c.append(d));b.canvas.element.append(c)}};O.prototype.hideButtons=function(){this.canvas.element.find(".altgallery-buttons").remove()};
O.prototype.showCaption=function(){this.hideCaption();if("never"!=this.settings.showCaption.toLowerCase()&&(this.getCurrentAlbum()&&this.getCurrentAlbum().description||this.getCurrentItem()&&this.getCurrentItem().description)){var b=a('<div class="altgallery-caption"></div>');b.css({position:"absolute",left:this.settings.frameSize,top:25+this.settings.frameSize,maxWidth:this.canvas.width()-100,padding:"4px 10px 5px 7px",color:"#fff",textShadow:"-1px 1px 0 rgba(0, 0, 0, 0.3)",background:"rgba(0, 0, 0, "+
this.settings.captionBackgroundAlpha/100+")",border:"1px solid rgba(0, 0, 0, 0.8)",borderLeft:"none","-moz-border-top-right-radius":"3px","-moz-border-bottom-right-radius":"3px","-webkit-border-top-right-radius":"3px","-webkit-border-bottom-right-radius":"3px","border-top-right-radius":"3px","border-bottom-right-radius":"3px"});if(a.browser.msie&&9>a.browser.version){var c=Math.round(255*parseInt(this.settings.captionBackgroundAlpha)/100),c=16>c?"0"+c.toString(16):c.toString(16);b.css({borderColor:"#000",
filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+c+"000000,endColorstr=#"+c+"000000)"})}this.getCurrentAlbum().description&&b.append('<div style="font-weight:bold;">'+this.getCurrentAlbum().description.replace("\n","<br/>")+"</div>");this.getCurrentItem().description&&b.append('<div style="">'+this.getCurrentItem().description.replace("\n","<br/>")+"</div>");this.canvas.element.append(b)}};O.prototype.hideCaption=function(){this.canvas.element.find(".altgallery-caption").remove()};
O.prototype.showNavigation=function(){var b=this;if("never"!=b.settings.showButtons.toLowerCase()&&b.settings.showNavigationButton&&!b.canvas.element.find(".altgallery-navigation").size()){var c=a('<div class="altgallery-navigation"></div>');c.css({position:"absolute",right:b.settings.frameSize,bottom:25+b.settings.frameSize,padding:"3px 3px 3px 1px",background:"rgba(0, 0, 0, "+b.settings.buttonsBackgroundAlpha/100+")",border:"1px solid rgba(0, 0, 0, 0.8)",borderRight:"none","-moz-border-top-left-radius":"3px",
"-moz-border-bottom-left-radius":"3px","-webkit-border-top-left-radius":"3px","-webkit-border-bottom-left-radius":"3px","border-top-left-radius":"3px","border-bottom-left-radius":"3px"});if(a.browser.msie&&9>a.browser.version){var d=Math.round(255*parseInt(b.settings.buttonsBackgroundAlpha)/100),d=16>d?"0"+d.toString(16):d.toString(16);c.css({borderColor:"#000",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+d+"000000,endColorstr=#"+d+"000000)"})}b.settings.showNavigationButton&&
(d=a('<a href="#" style="float:left;"></a>'),d.css({display:"block",cssFloat:"left",margin:"0 2px",width:16,height:16,background:"no-repeat center",backgroundImage:B(t.images.folder+"zen-prev.png"),opacity:0.8}),d.click(function(){b.prev();return!1}),c.append(d),d=a('<a href="#" style="float:left;"></a>'),d.css({display:"block",cssFloat:"left",margin:"0 2px",width:16,height:16,background:"no-repeat center",backgroundImage:B(t.images.folder+"zen-next.png"),opacity:0.8}),d.click(function(){b.next();
return!1}),c.append(d));b.canvas.element.append(c)}};O.prototype.hideNavigation=function(){this.canvas.element.find(".altgallery-navigation").remove()};O.prototype.open=function(b){var c=this,d=this.canvas,e=this.settings;c.hideAlbums();c.hideThumbnails();c.showButtons();c.showCaption();c.showNavigation();d.element.find(".altgallery-image img").hide();var h=d.element.find(".altgallery-imageFrame"),l=a('<img class="altgallery-preloader" src="'+t.images.loader+'" alt="" />');u(l);l.css({position:"absolute",
left:"50%",top:"50%",zIndex:10,margin:"-16px 0 0 -16px"});y(b.source,function(a){l.hide();d.element.find(".altgallery-preloader").remove();var h=d.element.find(".altgallery-image img");"fit"==e.imageScaleMode?h.css(F.fit(a.width,a.height,d.width()-2*e.frameSize,d.height()-2*e.frameSize)):h.css(F.fill(a.width,a.height,d.width()-2*e.frameSize,d.height()-2*e.frameSize));h.attr("src",b.source).fadeIn(2*t.animation.duration);c.cache()});setTimeout(function(){d.element.find(".altgallery-preloader").remove();
h.append(l)},500)};O.prototype.prev=function(){0<this.currentItem?this.currentItem--:this.currentItem=this.getCurrentAlbum().items.length-1;this.open(this.getCurrentItem())};O.prototype.next=function(){this.currentItem<this.getCurrentAlbum().items.length-1?this.currentItem++:this.currentItem=0;this.open(this.getCurrentItem())};var t={};a.altgallery=altgallery=function(b,e,d){function h(){l.each(function(){var d,g=b,h=e;d=a(this);t=g;var m,l,s,u=D();l=new oa(d,g);m=g.config||{};var y=function(b){a(document).ready(function(){setTimeout(function(){var a=
function(a){if(a.match(/Art/i))return"art";if(a.match(/Aura/i))return"aura";if(a.match(/Box/i))return"box";if(a.match(/Cubic/i))return"cubic";if(a.match(/PhotoFlow/i))return"photoflow";if(a.match(/Stack/i))return"stack";if(a.match(/Zen/i))return"zen"};ga!=32*qa&&(b=[]);switch(g.type?g.type.toLowerCase():m.galleryName?g.type=a(m.galleryName):g.type="box"){case "art":case "promo":s=new X(l,b,m.settings||{});break;case "aura":s=new M(l,b,m.settings||{});break;default:case "box":s=new S(l,b,m.settings||
{});break;case "cubic":s=new J(l,b,m.settings||{});break;case "photoflow":s=new V(l,b,m.settings||{});break;case "stack":s=new W(l,b,m.settings||{});break;case "zen":s=new O(l,b,m.settings||{})}"function"==typeof h&&h(s)},100)})},C=function(b,c){var d=this;this.user=b;this.albumId=c;this.data={};this.title="";this.items=[];this.getData=function(b){a.ajax({url:"https://picasaweb.google.com/data/feed/base/user/"+this.user+"/albumid/"+this.albumId+"?alt=json",dataType:"json",success:function(a){d.data=
a;if(a.feed&&(a.feed.title&&(d.title=a.feed.title.$t),a.feed.entry)){d.items=[];for(var c=0;c<a.feed.entry.length;c++)d.items.push({source:a.feed.entry[c].content.src,thumb:a.feed.entry[c].media$group.media$thumbnail[1].url,description:a.feed.entry[c].media$group.media$description.$t})}"function"==typeof b&&b(d.data)},error:function(){"function"==typeof b&&b()}})}},w=function(){"function"==typeof y&&y(A)},x=function(a,b,c,d){c=c||"";d=d||"";a.items=a.items||[];for(var e=a.items.length,f=0;f<b.length&&
(u||15>f);f++)a.items[e]={id:e,source:c+b[f].source,thumb:b[f].thumb?d+b[f].thumb:c+b[f].source,description:b[f].description||"",link:b[f].link||"",target:b[f].target||""},e++},z=function(a,b,d,e,f){e===c&&(e=m.settings.imagesFolder?m.settings.imagesFolder.replace(/\/+$/,"")+"/":"");f===c&&(f=f||m.settings.thumbnailsFolder?m.settings.thumbnailsFolder.replace(/\/+$/,"")+"/":e);A[a]={id:a,description:d};x(A[a],b,e,f)},A=[];if(q(m.albums)&&m.albums.length){var B=0;for(d=0;d<m.albums.length&&(u||3>d);d++)z(d,
m.albums[d].items||[],m.albums[d].description,m.albums[d].imagesFolder,m.albums[d].thumbnailsFolder),m.albums[d].picasa&&(m.albums[d].picasa.user&&m.albums[d].picasa.albumID)&&(B++,function(a){setTimeout(function(){var b=new C(m.albums[a].picasa.user,m.albums[a].picasa.albumID);b.getData(function(){b.items.length&&x(A[a],b.items);B--})},10*B)}(d));if(B)var G=setInterval(function(){1>B&&(clearInterval(G),w())},100);else w()}else if(q(m.items)&&m.items.length)if(z(0,m.items),m.settings&&m.settings.picasa&&
m.settings.picasa.user&&m.settings.picasa.albumID){var E=new C(m.settings.picasa.user,m.settings.picasa.albumID);E.getData(function(){x(A[0],E.items);w()})}else w();else if(m.settings&&m.settings.picasa&&m.settings.picasa.user&&m.settings.picasa.albumID)z(0,[]),E=new C(m.settings.picasa.user,m.settings.picasa.albumID),E.getData(function(){x(A[0],E.items);w()});else{var F=[];a(d).find("img").each(function(){F.push({source:a(this).parent("a").attr("href")||a(this).attr("src"),thumb:a(this).attr("src"),
description:this.title})});z(0,F);w()}})}d===c&&"function"!=typeof e&&(d=e,e=c);var l;d===c?(window.altgallery_id++,d="altgallery-"+window.altgallery_id,document.write('<div id="'+d+'"></div>'),l=a(document.getElementById(d))):l=a(d);b=a.extend(!0,{width:"550px",height:"400px",background:"none",images:{folder:ha+"img/",left:"left.png",right:"right.png",close:"close.png",loader:"loader.png"},animation:{duration:500}},b);if(b.images.folder){b.images.folder=b.images.folder.replace(/\/+$/,"")+"/";for(var s in b.images)"folder"!=
s&&!b.images[s].match("/")&&(b.images[s]=b.images.folder+b.images[s])}var g={load:function(a,b,d){if(b!==c)switch(b.toLowerCase()){default:case "xml":this.loadXML(a,d);break;case "json":this.loadJSON(a,d)}else a.match(/(json|txt)$/i)?this.loadJSON(a,d):this.loadXML(a,d)},loadJSON:function(b,c){a.ajax({url:b,dataType:"json",success:function(a){g.parse(a,c)},error:function(){"function"==typeof c&&c({})}})},loadXML:function(b,c){a.ajax({url:b,dataType:"xml",success:function(a){var b;"undefined"==typeof b&&
(b=function(){});b.ObjTree=function(){return this};b.ObjTree.prototype.attr_prefix="";b.ObjTree.prototype.parseDOM=function(a){if(a){this.__force_array={};if(this.force_array)for(var b=0;b<this.force_array.length;b++)this.__force_array[this.force_array[b]]=1;b=this.parseElement(a);this.__force_array[a.nodeName]&&(b=[b]);if(11!=a.nodeType){var c={};c[a.nodeName]=b;b=c}return b}};b.ObjTree.prototype.parseElement=function(a){if(7!=a.nodeType){if(3==a.nodeType||4==a.nodeType)return null==a.nodeValue.match(/[^\x00-\x20]/)?
void 0:a.nodeValue;var b,c={};if(a.attributes&&a.attributes.length){b={};for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d].nodeName;if("string"==typeof e){var f=a.attributes[d].nodeValue;f&&(e=this.attr_prefix+e,"undefined"==typeof c[e]&&(c[e]=0),c[e]++,this.addNode(b,e,c[e],f))}}}if(a.childNodes&&a.childNodes.length){e=!0;b&&(e=!1);for(d=0;d<a.childNodes.length&&e;d++)f=a.childNodes[d].nodeType,3==f||4==f||(e=!1);if(e){b||(b="");for(d=0;d<a.childNodes.length;d++)b+=a.childNodes[d].nodeValue}else{b||
(b={});for(d=0;d<a.childNodes.length;d++)if(e=a.childNodes[d].nodeName,"string"==typeof e&&(f=this.parseElement(a.childNodes[d])))"undefined"==typeof c[e]&&(c[e]=0),c[e]++,this.addNode(b,e,c[e],f)}}return b}};b.ObjTree.prototype.addNode=function(a,b,c,d){this.__force_array[b]?(1==c&&(a[b]=[]),a[b][a[b].length]=d):1==c?a[b]=d:2==c?a[b]=[a[b],d]:a[b][a[b].length]=d};b=new b.ObjTree;b.attr_prefix="";a=b.parseDOM(a)["#document"];g.parse(a,c)},error:function(){"function"==typeof c&&c({})}})},parse:function(a,
b){if(a.gallery&&(a.galleryName&&(a.gallery.galleryName=a.galleryName),a=a.gallery,a.items&&a.items.item&&(a.items=a.items.item.length?a.items.item:[a.items.item]),a.albums)){a.albums.album&&(a.albums=a.albums.album.length?a.albums.album:[a.albums.album]);for(var c=0;c<a.albums.length;c++)a.albums[c].items&&a.albums[c].items.item&&(a.albums[c].items=a.albums[c].items.item.length?a.albums[c].items.item:[a.albums[c].items.item])}"function"==typeof b&&b(a)}};"string"==typeof b.config?(l.css({visibility:"hidden"}),
g.load(b.config,b.configType,function(a){l.css({visibility:"visible"});b.config=a;h()})):g.parse(b.config,function(a){b.config=a;h()});return l};a.fn.altgallery=function(b,c){a.altgallery(b,c,this);return this};a.altbox=altbox=function(b,c){if(d!=top)var d=top,e=d.document;c=a.extend(!0,{frame:{color:"#000",borderRadius:0},mask:{color:"#000",opacity:0.7},images:{folder:ha+"img/",close:"close.png",loader:"loader.gif"},animation:{duration:700}},c);if(c.images.folder){c.images.folder=c.images.folder.replace(/\/+$/,
"")+"/";for(var h in c.images)"folder"!=h&&!c.images[h].match("/")&&(c.images[h]=c.images.folder+c.images[h])}var l=a('<div style="position:fixed; z-index:999; left:0; top:0; width:100%; height:100%; background:no-repeat center;"></div>');l.css({opacity:0,backgroundColor:c.mask.color,backgroundImage:B(c.images.loader)});a(e.body).append(l);l.animate({opacity:c.mask.opacity},c.animation.duration);var g=new Image;g.onload=function(){function h(){l.remove();u.remove()}function n(){x.remove();v.opacity=
"hide";u.animate(v,0.67*c.animation.duration);w.animate({width:v.width-20,height:v.height-20},0.67*c.animation.duration);l.fadeOut(c.animation.duration,function(){h()});return!1}var q=a(d).width()-100,m=a(d).height()-100,v=F.fit(g.width/4,g.height/4,q,m,{noEnlarge:!0,minWidth:100,minHeight:100});v.left+=50;v.top+=50;var t=F.fit(g.width+20,g.height+20,q,m,{noEnlarge:!0,minWidth:120,minHeight:120});t.left+=50;t.top+=50;var u=a('<div style="position:fixed; z-index:1000;"></div>');u.css(v);u.css({backgroundColor:c.frame.color,
borderRadius:c.frame.borderRadius,MozUserSelect:"none",webkitUserSelect:"none",userSelect:"none"});u.hide();var w=a('<img src="'+b+'" alt="" style="display:block;" />');w.css({margin:"10px",width:v.width-20,height:v.height-20,borderRadius:8<c.frame.borderRadius?c.frame.borderRadius-8:0});var x=a('<a href="#" style="display:block; position:absolute; right:-12px; top:-10px; width:30px; height:30px; background:no-repeat center;"></a>');x.css({backgroundImage:B(c.images.close)});u.append(w);a(e.body).append(u);
l.css({backgroundImage:"none"});w.animate({width:t.width-20,height:t.height-20,margin:"10px"},c.animation.duration,"easeOutBack");t.opacity="show";u.animate(t,c.animation.duration,"easeOutBack",function(){u.append(x)});a(d).resize(function(){q=a(d).width()-100;m=a(d).height()-100;v=F.fit(g.width/4,g.height/4,q,m,{noEnlarge:!0,minWidth:100,minHeight:100});v.left+=50;v.top+=50;t=F.fit(g.width+20,g.height+20,q,m,{noEnlarge:!0,minWidth:120,minHeight:120});t.left+=50;t.top+=50;u.css(t);w.css({width:t.width-
20,height:t.height-20})});l.click(h);x.click(n);u.dblclick(n)};g.src=b}})(jQuery);var flashgallery;
(function(a,c){window.flashgallery_id=window.flashgallery_id||0;a.flashgallery=flashgallery=function(e,b,l,q){var u;u="object"==typeof b?a.browser.msie?JSON.stringify({config:b}):{config:JSON.stringify(b)}:{configPath:b};l=a.extend({width:"550px",height:"400px",background:"transparent"},l);window.flashgallery_id++;var h="flashgallery-"+window.flashgallery_id;q==c?document.write('<div id="'+h+'"></div>'):a(q).html('<div id="'+h+'"></div>');q=a(document.getElementById(h));q.css({width:l.width,height:l.height,
overflow:"hidden"});var w={allowScriptAccess:"always",allowFullScreen:"true",wmode:"opaque",quality:"high"},B={style:"outline:none;"},z=l.background.match(/(#[0-9a-f]+)/i);z?w.bgcolor=z[1]:w.wmode="transparent";l.disableSWF?(l.config=b,q.altgallery(l)):swfobject.embedSWF(e,h,l.width.toString().match(/^\d+%$/)?l.width:parseInt(l.width),l.height.toString().match(/^\d+%$/)?l.height:parseInt(l.height),"10.0.12.36","http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf",u,w,B,function(c){c.success?
a(c.ref).css({background:l.background}):l.disableJS||(l.config=b,q.altgallery(l))})};a.fn.flashgallery=a.fn.flashgallery||function(c,b,l){a.flashgallery(c,b,l,this)}})(jQuery);
